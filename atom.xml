<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Solartisan</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://solart.cc/"/>
  <updated>2016-06-20T05:33:57.000Z</updated>
  <id>http://solart.cc/</id>
  
  <author>
    <name>imilk</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>TurboRecyclerViewHelperä¹‹å®ç°Adapterçš„ä¼˜åŒ–å°è£…</title>
    <link href="http://solart.cc/2016/06/18/turbo-recyclerview-helper-2/"/>
    <id>http://solart.cc/2016/06/18/turbo-recyclerview-helper-2/</id>
    <published>2016-06-18T05:52:08.000Z</published>
    <updated>2016-06-20T05:33:57.000Z</updated>
    
    <content type="html">&lt;p&gt;ä¸Šæ¬¡è®²åˆ°&lt;a href=&quot;http://solart.cc/2016/06/01/turbo-recyclerview-helper-1/&quot;&gt;å®ç°RecyclerViewçš„åŠŸèƒ½æ‰©å±•&lt;/a&gt;,æœ¬æ¬¡å°±æ¥ç€ä»‹ç»é’ˆå¯¹&lt;code&gt;RecyclerView.Adapter&lt;/code&gt;çš„å°è£…çš„ä¸€äº›æƒ³æ³•ã€‚&lt;/p&gt;
&lt;h1 id=&quot;1-åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;a href=&quot;#1-åŠŸèƒ½ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;1. åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;/a&gt;1. åŠŸèƒ½ä»‹ç»&lt;/h1&gt;&lt;p&gt;éšç€ç§»åŠ¨ç«¯çš„è“¬å‹ƒå‘å±•ï¼Œå¤æ‚çš„äº§å“å¸ƒå±€ä¹Ÿå˜æˆäº†å®¶å¸¸ä¾¿é¥­ï¼Œå¤æ‚çš„å¸ƒå±€æ’åˆ—ç»„åˆä¹Ÿæˆäº†å¸¸æ€ã€‚&lt;/p&gt;
&lt;img src=&quot;/images/home_model.png&quot;&gt;
&lt;p&gt;æ¯”å¦‚åœ¨æ‹¿åˆ°è¿™ä¸ªéœ€æ±‚ä¹‹åï¼Œå¦‚æœæ”¾åœ¨ä¹‹å‰æˆ‘å¤§å¤šæ˜¯ç”¨ScrollViewæˆ–è€…ListViewçš„å¤šTypeç±»å‹æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä»Šï¼Œé‡‡ç”¨&lt;code&gt;RecyclerView&lt;/code&gt;å¯ä»¥å®ç°ä¸€ä¸ªæ€§èƒ½æ›´ä¼˜çš„æ–¹æ¡ˆï¼Œ&lt;code&gt;RecyclerView&lt;/code&gt;æä¾›äº†ä¸€ç§æ’æ‹”å¼çš„æ¶æ„è®¾è®¡ï¼Œé«˜åº¦çš„è§£è€¦ï¼Œå¼‚å¸¸çš„çµæ´»ï¼Œä¹Ÿå› ä¸ºè¿™äº›ç‰¹æ€§éœ€è¦è°ƒç”¨è€…è‡ªå·±æ¥å®ç°çš„ä»£ç å°±ç›¸å¯¹å¤šä¸€äº›ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ¿€å‘äº†è‡ªå·±æƒ³è¿›ä¸€æ­¥å°è£…ä¸€ä¸ªæ›´å¥½ç”¨å¹¶ä¸”ä¸å¤±çµæ´»æ€§çš„&lt;code&gt;Adapter&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¯¹äºå®ç°ä»¥ä¸Šéœ€æ±‚è¿˜é…åˆäº†&lt;code&gt;ItemDecoration&lt;/code&gt;æ¥å®ç°é—´éš”ï¼Œè¿™é‡Œå°±å…ˆæŒ‰ä¸‹ä¸è¡¨ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒæ•°æ®æºçš„æ·»åŠ /åˆ é™¤/é‡ç½®&lt;/li&gt;
&lt;li&gt;æ”¯æŒå¤šç±»å‹å¸ƒå±€&lt;/li&gt;
&lt;li&gt;æ·»åŠ /ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ·»åŠ ç‚¹å‡»äº‹ä»¶&lt;/li&gt;
&lt;li&gt;é…åˆTurboRecyclerViewä¸Šæ‹‰/å·¦æ»‘åŠ è½½&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œé’ˆå¯¹ä»¥ä¸Šéœ€æ±‚å±•å¼€ä»‹ç»ã€‚&lt;/p&gt;
&lt;h1 id=&quot;2-æ•°æ®æºçš„æ·»åŠ -åˆ é™¤-é‡ç½®&quot;&gt;&lt;a href=&quot;#2-æ•°æ®æºçš„æ·»åŠ -åˆ é™¤-é‡ç½®&quot; class=&quot;headerlink&quot; title=&quot;2. æ•°æ®æºçš„æ·»åŠ /åˆ é™¤/é‡ç½®&quot;&gt;&lt;/a&gt;2. æ•°æ®æºçš„æ·»åŠ /åˆ é™¤/é‡ç½®&lt;/h1&gt;&lt;p&gt;å¤§å®¶çŸ¥é“&lt;code&gt;RecyclerView.Adapter&lt;/code&gt;æ˜¯RecyclerViewä¸æ•°æ®ä¹‹é—´çš„æ¡¥æ¢ï¼Œæ‰€ä»¥é’ˆå¯¹æ•°æ®æºæˆ‘çš„æƒ³æ³•æ˜¯åœ¨Adapterä¸­ç»´æŠ¤ä¸€ä¸ª&lt;code&gt;List&amp;lt;T&amp;gt;&lt;/code&gt;ï¼Œè¿™æ ·å¯ä»¥ä¸ä¾èµ–å¤–éƒ¨æ•°æ®æºï¼Œä¿è¯List&lt;t&gt;å¯¹Adapterçš„å¯è§æ€§ï¼Œåœ¨Adapterçš„å°è£…ä¸­ä»…æä¾›å¢ã€åˆ ä»¥åŠé‡ç½®çš„æ–¹æ³•ï¼Œæ‰€æœ‰å¯¹æ•°æ®æºæ“ä½œéƒ½é€šè¿‡Adapterä¸­æä¾›çš„æ¥å£æ¥å®ç°å¢åˆ ã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; List&amp;lt;T&amp;gt; mData;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseTurboAdapter&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, List&amp;lt;T&amp;gt; data)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mData = data == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; ? &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;T&amp;gt;() : &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;T&amp;gt;(data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/t&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹æ·»åŠ æ•°æ®çš„æ¥å£ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(T item)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; isAdd = mData.add(item);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isAdd)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        notifyItemInserted(mData.size() + getHeaderViewCount());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; position, T item)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (position &amp;lt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; || position &amp;gt; mData.size()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Log.e(TAG, &lt;span class=&quot;string&quot;&gt;&quot;add position = &quot;&lt;/span&gt; + position + &lt;span class=&quot;string&quot;&gt;&quot;, IndexOutOfBounds, please check your code!&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mData.add(position, item);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    notifyItemInserted(position + getHeaderViewCount());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;addData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(List&amp;lt;T&amp;gt; data)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (data != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mData.addAll(data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    notifyDataSetChanged();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œéœ€è¦æä¸€ä¸‹ï¼Œé’ˆå¯¹add(postion,T)ä¸­çš„&lt;code&gt;position&lt;/code&gt;æ˜¯æ•´ä¸ªAdapterä¸­getItemCount()åéœ€è¦å‡å»å¤´éƒ¨çš„è®¡æ•°ï¼Œåé¢ä¼šè®²åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;åˆ é™¤æ•°æ®çš„æ¥å£ä¸æ·»åŠ ç±»ä¼¼ï¼Œå°±ä¸åœ¨è´´ä»£ç äº†ï¼Œè¿™é‡Œæˆ‘ä»¬åˆæä¾›ä¸€ä¸ªé‡ç½®æ•°æ®çš„æ–¹æ³•ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;resetData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(List&amp;lt;T&amp;gt; data)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mData.clear();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    addData(data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æœ‰é‡æ–°åˆ·æ–°æ—¶ï¼Œè¯·è°ƒç”¨è¿™ä¸ªæ–¹æ³•é‡ç½®æ•°æ®æºã€‚&lt;/p&gt;
&lt;h1 id=&quot;3-æ·»åŠ -ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨&quot;&gt;&lt;a href=&quot;#3-æ·»åŠ -ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨&quot; class=&quot;headerlink&quot; title=&quot;3. æ·»åŠ /ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨&quot;&gt;&lt;/a&gt;3. æ·»åŠ /ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨&lt;/h1&gt;&lt;p&gt;RecyclerViewæ˜¯ä¸€ä¸ªæ€§èƒ½æ›´ä¼˜çš„æ§ä»¶ï¼Œæ‰€ä»¥å¯¹å¤šå¸ƒå±€çš„æ”¯æŒä¹Ÿæ›´å¥½ã€‚Headerå’ŒFooteræ˜¯é…åˆgetItemViewType(position)æ¥å®ç°ï¼Œæˆ‘ä»¬çŸ¥é“Headerã€Footerçš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥å¯¹äºå¤´éƒ¨å’Œå°¾éƒ¨çš„Typeç±»å‹å¤„ç†å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getItemViewType&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; position)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mHeaderView != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; position == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; TYPE_HEADER_VIEW;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (position == mData.size() + getHeaderViewCount()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mLoading) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mFooterView != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; TYPE_FOOTER_VIEW;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ·»åŠ /ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨ä¼šå¯¹&lt;code&gt;ItemCount&lt;/code&gt;æœ‰å½±å“ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®ç°getItemCountï¼Œå…ˆæ¥çœ‹çœ‹æºç ä¸Šçš„æ³¨è§£ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * Returns the total number of items in the data set hold by the adapter.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt; The total number of items in this adapter.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getItemCount&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ¥çœ‹çœ‹å…·ä½“çš„å®ç°ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getItemCount&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; count;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mLoading) &amp;#123; &lt;span class=&quot;comment&quot;&gt;//if loading ignore footer view&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        count = mData.size() + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; + getHeaderViewCount();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        count = mData.size() + getHeaderViewCount() + getFooterViewCount();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; count;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ•°æ®æºçš„åŸºç¡€ä¸Šè®¡ç®—Headerä»¥åŠFooterçš„æ•°é‡å¹¶è¿”å›ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åæˆ‘ä»¬æ¥çœ‹ä¸‹é’ˆå¯¹Headeræ·»åŠ ã€ç§»é™¤ï¼ˆFooteråŒç†ï¼‰ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; View mHeaderView;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;addHeaderView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View header)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (header == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Log.e(TAG, &lt;span class=&quot;string&quot;&gt;&quot;header is null!!!&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mHeaderView = header;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.notifyDataSetChanged();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;removeHeaderView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mHeaderView != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mHeaderView = &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.notifyDataSetChanged();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&quot;4-ç‚¹å‡»äº‹ä»¶çš„å¤„ç†&quot;&gt;&lt;a href=&quot;#4-ç‚¹å‡»äº‹ä»¶çš„å¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;4. ç‚¹å‡»äº‹ä»¶çš„å¤„ç†&quot;&gt;&lt;/a&gt;4. ç‚¹å‡»äº‹ä»¶çš„å¤„ç†&lt;/h1&gt;&lt;p&gt;åœ¨åˆšå¼€å§‹å†™è¿™ä¸ªé¡¹ç›®çš„åˆæœŸï¼Œå…¶å®æˆ‘æœŸæœ›æ˜¯ç”¨ä¸€ç§æ›´ç®€æ´çš„æ›´ä¼˜é›…çš„æ–¹å¼æ¥å¤„ç†itemç‚¹å‡»äº‹ä»¶ï¼ŒæœŸé—´ä¹Ÿå°è¯•ä½¿ç”¨&lt;code&gt;RecyclerView.OnItemTouchListener&lt;/code&gt;æ¥å®ç°ç‚¹å‡»äº‹ä»¶ï¼Œè™½ç„¶åŠŸèƒ½ä¸Šå®ç°äº†ç‚¹å‡»äº‹ä»¶ï¼Œä½†å¯¹ç‚¹å‡»æ•ˆæœçš„æ”¯æŒæ²¡èƒ½æœ‰æ•ˆçš„è§£å†³ï¼Œåæ¥ä¸å¾—ä¸æ”¾å¼ƒçš„è¿™ä¸€æ–¹æ¡ˆã€‚æœ€ç»ˆï¼Œè¿™é‡Œè¿˜æ˜¯é€šè¿‡itemViewçš„ç‚¹å‡»äº‹ä»¶æ¥å®ç°ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vh = onCreateDefViewHolder(parent, viewType);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatchItemClickListener(vh);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;dispatchItemClickListener&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; BaseViewHolder vh)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mOnItemClickListeners != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; mOnItemClickListeners.size() &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!(vh.itemView &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; AdapterView)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            vh.itemView.setOnClickListener(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; View.OnClickListener() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View v)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; mOnItemClickListeners.size(); i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; OnItemClickListener listener = mOnItemClickListeners.get(i);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        listener.onItemClick(vh, vh.getLayoutPosition() - getHeaderViewCount());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mOnItemLongClickListeners != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; mOnItemLongClickListeners.size() &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!(vh.itemView &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; AdapterView)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            vh.itemView.setOnLongClickListener(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; View.OnLongClickListener() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onLongClick&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View v)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; mOnItemLongClickListeners.size(); i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; OnItemLongClickListener listener = mOnItemLongClickListeners.get(i);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        listener.onItemLongClick(vh, vh.getLayoutPosition() - getHeaderViewCount());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯¹&lt;code&gt;Adapter&lt;/code&gt;æŠ½è±¡å°è£…ä»£ç ä¸Šå¹¶ä¸å¤æ‚ï¼Œåªæ˜¯åŸºäºè¿™äº›æŠ½è±¡åŠå°è£…ï¼Œä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿å¿«æ·ã€‚ä¹Ÿæ¬¢è¿æ”¯æŒä¸€ä¸‹&lt;a href=&quot;https://github.com/Solartisan/TurboRecyclerViewHelper&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™ä¸ªé¡¹ç›®&lt;/a&gt;~ æŒç»­ç»´æŠ¤~ğŸ˜Š&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸Šæ¬¡è®²åˆ°&lt;a href=&quot;http://solart.cc/2016/06/01/turbo-recyclerview-helper-1/&quot;&gt;å®ç°RecyclerViewçš„åŠŸèƒ½æ‰©å±•&lt;/a&gt;,æœ¬æ¬¡å°±æ¥ç€ä»‹ç»é’ˆå¯¹&lt;code&gt;RecyclerView.Adapter&lt;/code&gt;çš„å°è£…çš„ä¸€äº›æƒ³æ³•ã€‚&lt;/p&gt;
&lt;h1 id=&quot;1-åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;a href=&quot;#1-åŠŸèƒ½ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;1. åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;/a&gt;1. åŠŸèƒ½ä»‹ç»&lt;/h1&gt;&lt;p&gt;éšç€ç§»åŠ¨ç«¯çš„è“¬å‹ƒå‘å±•ï¼Œå¤æ‚çš„äº§å“å¸ƒå±€ä¹Ÿå˜æˆäº†å®¶å¸¸ä¾¿é¥­ï¼Œå¤æ‚çš„å¸ƒå±€æ’åˆ—ç»„åˆä¹Ÿæˆäº†å¸¸æ€ã€‚&lt;/p&gt;
&lt;img src=&quot;/images/home_model.png&quot;&gt;
&lt;p&gt;æ¯”å¦‚åœ¨æ‹¿åˆ°è¿™ä¸ªéœ€æ±‚ä¹‹åï¼Œå¦‚æœæ”¾åœ¨ä¹‹å‰æˆ‘å¤§å¤šæ˜¯ç”¨ScrollViewæˆ–è€…ListViewçš„å¤šTypeç±»å‹æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä»Šï¼Œé‡‡ç”¨&lt;code&gt;RecyclerView&lt;/code&gt;å¯ä»¥å®ç°ä¸€ä¸ªæ€§èƒ½æ›´ä¼˜çš„æ–¹æ¡ˆï¼Œ&lt;code&gt;RecyclerView&lt;/code&gt;æä¾›äº†ä¸€ç§æ’æ‹”å¼çš„æ¶æ„è®¾è®¡ï¼Œé«˜åº¦çš„è§£è€¦ï¼Œå¼‚å¸¸çš„çµæ´»ï¼Œä¹Ÿå› ä¸ºè¿™äº›ç‰¹æ€§éœ€è¦è°ƒç”¨è€…è‡ªå·±æ¥å®ç°çš„ä»£ç å°±ç›¸å¯¹å¤šä¸€äº›ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ¿€å‘äº†è‡ªå·±æƒ³è¿›ä¸€æ­¥å°è£…ä¸€ä¸ªæ›´å¥½ç”¨å¹¶ä¸”ä¸å¤±çµæ´»æ€§çš„&lt;code&gt;Adapter&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¯¹äºå®ç°ä»¥ä¸Šéœ€æ±‚è¿˜é…åˆäº†&lt;code&gt;ItemDecoration&lt;/code&gt;æ¥å®ç°é—´éš”ï¼Œè¿™é‡Œå°±å…ˆæŒ‰ä¸‹ä¸è¡¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://solart.cc/categories/Android/"/>
    
    
  </entry>
  
  <entry>
    <title>TurboRecyclerViewHelperä¹‹å®ç°RecyclerViewçš„åŠŸèƒ½æ‰©å±•</title>
    <link href="http://solart.cc/2016/06/01/turbo-recyclerview-helper-1/"/>
    <id>http://solart.cc/2016/06/01/turbo-recyclerview-helper-1/</id>
    <published>2016-06-01T10:06:08.000Z</published>
    <updated>2016-06-03T05:11:15.000Z</updated>
    
    <content type="html">&lt;p&gt;è‡ªä»ä½¿ç”¨äº†&lt;code&gt;RecyclerView&lt;/code&gt;å†ä¹Ÿå›ä¸å»äº†ï¼Œä»€ä¹ˆListViewã€GridViewç»Ÿç»Ÿè®©ä»–ä»¬é€€ä¼‘äº†ã€‚å¿…é¡»å®‰åˆ©èµ·æ¥ï¼Œç”¨äº†æ‰èƒ½ä½“ä¼šå®ƒçš„ç¥å¥‡ï¼&lt;/p&gt;
&lt;p&gt;æ ¹æ®ä½¿ç”¨&lt;code&gt;RecyclerView&lt;/code&gt;ä»¥æ¥ï¼Œæ‹“å±•çš„ä¸€äº›åŠŸèƒ½åŠå¯¹&lt;code&gt;RecyclerView.Adapter&lt;/code&gt;çš„å°è£…ï¼Œæƒ³åœ¨è¿™é‡Œè·Ÿå¤§å®¶åˆ†äº«ä¸€äº›ç»éªŒï¼Œè¿˜æœ›æŒ‡æ­£ã€‚&lt;/p&gt;
&lt;h1 id=&quot;1-åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;a href=&quot;#1-åŠŸèƒ½ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;1. åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;/a&gt;1. åŠŸèƒ½ä»‹ç»&lt;/h1&gt;&lt;p&gt;åŸºäºå¯¹&lt;code&gt;RecyclerView&lt;/code&gt;åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ä¸€äº›ç—›ç‚¹å†™äº†è¿™ä¸ªå¼€æºé¡¹ç›® &lt;a href=&quot;https://github.com/Solartisan/TurboRecyclerViewHelper&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;TurboRecyclerViewHelper&lt;/a&gt; ã€‚åŠŸèƒ½ç‚¹è¯¦è§READMEã€‚&lt;/p&gt;
&lt;img src=&quot;/images/turbo_simple.gif&quot;&gt;
&lt;p&gt;æœ¬æ¬¡ä¸»è¦ä»‹ç»é’ˆå¯¹&lt;code&gt;TurboRecyclerView&lt;/code&gt;ä¸Šæ‹‰/å·¦æ»‘çš„åŠŸèƒ½çš„å®ç°åŠæ€è·¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ç›´æ¥è¿›å…¥æ­£é¢˜â€¦&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h1 id=&quot;2-çŠ¶æ€åˆ†æ&quot;&gt;&lt;a href=&quot;#2-çŠ¶æ€åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;2. çŠ¶æ€åˆ†æ&quot;&gt;&lt;/a&gt;2. çŠ¶æ€åˆ†æ&lt;/h1&gt;&lt;p&gt;ä»¥ä¸Šæ‹‰åŠ è½½çš„è¿‡ç¨‹ä½œä¸ºæœ¬æ¬¡åˆ†äº«çš„ä¸€ä¸ªæ —å­(å·¦æ»‘åŒç†)ã€‚çŠ¶æ€å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;img src=&quot;/images/turbo_state_analysis.png&quot;&gt;
&lt;p&gt;æˆ‘ä»¬æ‰€å…³å¿ƒçš„æ˜¯RecyclerViewæ»‘åŠ¨åˆ°åº•éƒ¨çš„çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€ä¸‹æ˜¯æˆ‘ä»¬éœ€è¦å¤„ç†çš„&lt;code&gt;ä¸´ç•ŒçŠ¶æ€&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹æ–‡ä¸­å‡ºç°çš„ä»£ç å‡ä¸ºç²¾ç®€åçš„ä»£ç ç‰‡æ®µï¼Œæœ¬æ–‡é‡åœ¨ä»‹ç»æ€è·¯ï¼Œæ‰€æ¶‰åŠçš„çŸ¥è¯†ç‚¹å‡è®¾æ‚¨å·²ç»æŒæ¡ï¼Œæ•…ä¸å†å±•å¼€èµ˜è¿°ã€‚&lt;/p&gt;
&lt;h1 id=&quot;3-ä¸´ç•ŒçŠ¶æ€çš„é™åˆ¶æ¡ä»¶&quot;&gt;&lt;a href=&quot;#3-ä¸´ç•ŒçŠ¶æ€çš„é™åˆ¶æ¡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;3. ä¸´ç•ŒçŠ¶æ€çš„é™åˆ¶æ¡ä»¶&quot;&gt;&lt;/a&gt;3. ä¸´ç•ŒçŠ¶æ€çš„é™åˆ¶æ¡ä»¶&lt;/h1&gt;&lt;p&gt;åºŸè¯ä¸å¤šè¯´ç›´æ¥çœ‹ä»£ç ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!mLoadEnabled || canScrollEnd() || mIsLoading || isEmpty()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;...;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä»ä¸¤ä¸ªæ–¹é¢æ¥åˆ†æå¯ä»¥å¼€å§‹å¤„ç†Touchäº‹ä»¶çš„æ¡ä»¶ï¼š&lt;/p&gt;
&lt;h2 id=&quot;3-1-å®¢è§‚æ¡ä»¶&quot;&gt;&lt;a href=&quot;#3-1-å®¢è§‚æ¡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;3.1 å®¢è§‚æ¡ä»¶&quot;&gt;&lt;/a&gt;3.1 å®¢è§‚æ¡ä»¶&lt;/h2&gt;&lt;p&gt;æ‰€è°“å®¢è§‚æ¡ä»¶å³æ˜¯RecyclerViewæ»‘åŠ¨åˆ°åº•éƒ¨çš„è¿™ä¸ªçŠ¶æ€çš„ç‰©ç†çŠ¶æ€ï¼Œä½“ç°åœ¨ä»£ç ä¸Šå°±æ˜¯&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;canScrollEnd&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;//åˆ¤æ–­åœ¨çºµå‘æ˜¯å¦è¿˜èƒ½å‘ä¸Šæ»‘åŠ¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; ViewCompat.canScrollVertically(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™é‡Œä¸ºäº†ç®€åŒ–åªåˆ¤æ–­äº†çºµå‘æ˜¯å¦å¯ä»¥å‘ä¸‹æ»‘åŠ¨ï¼Œå®é™…ä»£ç ä¸­è¿™é‡Œæ˜¯åˆ¤æ–­æ¡ä»¶ä¸º&lt;code&gt;ViewCompat.canScrollVertically(this, 1) || ViewCompat.canScrollHorizontally(this, 1)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ¡ä»¶è¿”å›å€¼å¦‚æœæ˜¯falseï¼Œåˆ™ä»£è¡¨æˆ‘ä»¬å¯ä»¥ä»è¿™ä¸ªä¸´ç•ŒçŠ¶æ€å¼€å§‹å¤„ç†Touchäº‹ä»¶ï¼Œå¦åˆ™ä¸å¤„ç†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;3-2-é€»è¾‘æ¡ä»¶ï¼ˆä¸»è§‚æ¡ä»¶ï¼‰&quot;&gt;&lt;a href=&quot;#3-2-é€»è¾‘æ¡ä»¶ï¼ˆä¸»è§‚æ¡ä»¶ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;3.2 é€»è¾‘æ¡ä»¶ï¼ˆä¸»è§‚æ¡ä»¶ï¼‰&quot;&gt;&lt;/a&gt;3.2 é€»è¾‘æ¡ä»¶ï¼ˆä¸»è§‚æ¡ä»¶ï¼‰&lt;/h2&gt;&lt;p&gt;é€»è¾‘æ¡ä»¶ï¼ˆæˆ–è€…ç§°ä¸ºä¸»è§‚æ¡ä»¶ï¼‰æ˜¯è®¾è®¡æ§ä»¶æœ¬èº«æ‰€è€ƒè™‘çš„é™åˆ¶æ¡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;åˆ¤æ–­æ¡ä»¶å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ˜¯å¦å…è®¸ä¸Šæ‹‰ || æ˜¯å¦æ­£å¤„äºåˆ·æ–°çŠ¶æ€ || æ˜¯å¦å¤„ç†ç©ºçŠ¶æ€&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!mLoadEnabled || mIsLoading || isEmpty())&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä»¥ä¸Šæ¡ä»¶ä¸‹æˆ‘ä»¬è®¤ä¸ºæ˜¯æ§ä»¶æœ¬èº«åº”å¤„äºä¸å¯ä¸Šæ‹‰çš„çŠ¶æ€ï¼Œæˆ‘ä»¬ä¸åšå¤„ç†ã€‚&lt;/p&gt;
&lt;h1 id=&quot;4-Touchäº‹ä»¶çš„å¤„ç†&quot;&gt;&lt;a href=&quot;#4-Touchäº‹ä»¶çš„å¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;4. Touchäº‹ä»¶çš„å¤„ç†&quot;&gt;&lt;/a&gt;4. Touchäº‹ä»¶çš„å¤„ç†&lt;/h1&gt;&lt;p&gt;åœ¨åŒæ—¶æ»¡è¶³å®¢è§‚æ¡ä»¶å’Œé€»è¾‘æ¡ä»¶ä¸‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å¤„ç†ä¸Šæ‹‰çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;h2 id=&quot;4-1-è®°å½•åˆå§‹å€¼&quot;&gt;&lt;a href=&quot;#4-1-è®°å½•åˆå§‹å€¼&quot; class=&quot;headerlink&quot; title=&quot;4.1 è®°å½•åˆå§‹å€¼&quot;&gt;&lt;/a&gt;4.1 è®°å½•åˆå§‹å€¼&lt;/h2&gt;&lt;p&gt;æˆ‘ä»¬éœ€è¦åœ¨&lt;code&gt;MotionEvent.ACTION_DOWN&lt;/code&gt; &lt;code&gt;MotionEvent.ACTION_POINTER_DOWN&lt;/code&gt;æ—¶è®°å½•åˆå§‹å€¼:&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mInitialMotionX = getMotionEventX(e, actionIndex);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mInitialMotionY = getMotionEventY(e, actionIndex);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;4-2-åˆ¤æ–­æ»‘åŠ¨æ˜¯å¦ç¬¦åˆé¢„æœŸå€¼&quot;&gt;&lt;a href=&quot;#4-2-åˆ¤æ–­æ»‘åŠ¨æ˜¯å¦ç¬¦åˆé¢„æœŸå€¼&quot; class=&quot;headerlink&quot; title=&quot;4.2 åˆ¤æ–­æ»‘åŠ¨æ˜¯å¦ç¬¦åˆé¢„æœŸå€¼&quot;&gt;&lt;/a&gt;4.2 åˆ¤æ–­æ»‘åŠ¨æ˜¯å¦ç¬¦åˆé¢„æœŸå€¼&lt;/h2&gt;&lt;p&gt;åœ¨&lt;code&gt;MotionEvent.ACTION_MOVE&lt;/code&gt;æ—¶åˆ¤æ–­æ˜¯å¦æ˜¯ä¸Šæ‹‰çš„çŠ¶æ€ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//LayoutManagerä¸­æä¾›çš„åˆ¤æ–­æ˜¯å¦çºµå‘å¯ä»¥æ»‘åŠ¨çš„æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; canScrollVertically = getLayoutManager().canScrollVertically();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; y = getMotionEventY(e, index);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; deltaY = y - mInitialMotionY;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (canScrollVertically &amp;amp;&amp;amp; Math.abs(deltaY) &amp;gt; mTouchSlop &amp;amp;&amp;amp; deltaY &amp;lt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123; ... &lt;span class=&quot;comment&quot;&gt;//å¤„ç†ä¸Šæ‹‰æ•ˆæœ&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è®°å½•å½“å‰Yå€¼ï¼Œä¸”åˆ¤æ–­æ˜¯å¦æ‰‹æŒ‡åœ¨ä¸Šæ»‘çŠ¶æ€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;4-3-å®ç°ä¸Šæ‹‰æ•ˆæœ&quot;&gt;&lt;a href=&quot;#4-3-å®ç°ä¸Šæ‹‰æ•ˆæœ&quot; class=&quot;headerlink&quot; title=&quot;4.3 å®ç°ä¸Šæ‹‰æ•ˆæœ&quot;&gt;&lt;/a&gt;4.3 å®ç°ä¸Šæ‹‰æ•ˆæœ&lt;/h2&gt;&lt;p&gt;åœ¨è‡ªå®šä¹‰æ§ä»¶ä¸­ï¼Œå®ç°ä¸Šæ‹‰æ•ˆæœæœ‰å¤šç§é€”å¾„ï¼Œä¾‹å¦‚å¤§å®¶å¸¸ç”¨çš„åˆ©ç”¨&lt;code&gt;Scroller&lt;/code&gt;é…åˆ&lt;code&gt;scrollTo&lt;/code&gt;æ¥å®ç°æ»‘åŠ¨ï¼Œä½†æ˜¯åœ¨RecyclerViewçš„å®ç°ä¸­å¹¶ä¸æ”¯æŒè¿™ç§æ–¹å¼ã€‚è¿™ä¸ªæ–¹æ¡ˆClose!&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;scrollTo&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; x, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; y)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Log.w(TAG, &lt;span class=&quot;string&quot;&gt;&quot;RecyclerView does not support scrolling to an absolute position. &quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            + &lt;span class=&quot;string&quot;&gt;&quot;Use scrollToPosition instead&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œé‡‡ç”¨&lt;code&gt;setTranslationY&lt;/code&gt;æ¥å®ç°ä¸Šæ‹‰æ•ˆæœï¼Œæ ¹æ®æ‰‹æŒ‡ç§»åŠ¨çš„è·ç¦»è®¡ç®—å‡ºç§»åŠ¨è·ç¦»æ¥æ”¹å˜RecyclerViewçš„ä½ç½®ã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; targetEnd = -dampAxis(deltaY); &lt;span class=&quot;comment&quot;&gt;//é˜»å°¼å€¼çš„è®¡ç®—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;setTranslationY(targetEnd);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;  &lt;span class=&quot;comment&quot;&gt;//æ¶ˆè´¹æ‰æ­¤äº‹ä»¶&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åˆ°è¿™é‡Œä¸Šæ‹‰çš„æ•ˆæœå·²ç»å®ç°å®Œæ¯•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;4-4-å¤ä½åŠåˆ·æ–°&quot;&gt;&lt;a href=&quot;#4-4-å¤ä½åŠåˆ·æ–°&quot; class=&quot;headerlink&quot; title=&quot;4.4 å¤ä½åŠåˆ·æ–°&quot;&gt;&lt;/a&gt;4.4 å¤ä½åŠåˆ·æ–°&lt;/h2&gt;&lt;p&gt;è·ç¦»æˆåŠŸåªå·®ä¸€ç‚¹ç‚¹ã€‚&lt;br&gt;åœ¨ç”¨æˆ·æ‰‹æŒ‡æ¾å¼€ä»¥åï¼Œæˆ‘ä»¬è¦è€ƒè™‘åšä¸¤ä»¶äº‹ï¼šRecyclerViewçš„å¤ä½åŠæ˜¯å¦å¯ä»¥å¤„äºåˆ·æ–°çŠ¶æ€ã€‚&lt;br&gt;é’ˆå¯¹å¤ä½æ“ä½œï¼Œæˆ‘ä»¬åªéœ€è¦é€†å‘&lt;code&gt;setTranslationY&lt;/code&gt;å€¼å³å¯ã€‚è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨å±æ€§åŠ¨ç”»æ¥å®ç°&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;animateOffsetToEnd&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; String propertyName, &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Interpolator interpolator, &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt;... value)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mResetAnimator == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           mResetAnimator = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ObjectAnimator();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           mResetAnimator.setTarget(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       mResetAnimator.cancel();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       mResetAnimator.setPropertyName(propertyName);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       mResetAnimator.setFloatValues(value);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       mResetAnimator.setInterpolator(interpolator);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       mResetAnimator.start();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(canScrollVertically)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	animateOffsetToEnd(&lt;span class=&quot;string&quot;&gt;&quot;translationY&quot;&lt;/span&gt;, mInterpolator, &lt;span class=&quot;number&quot;&gt;0f&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºåˆ·æ–°æˆ‘ä»¬è¦åšçš„äº‹æƒ…ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œåˆ¤æ–­å½“å‰ç§»åŠ¨è·ç¦»è¾¾åˆ°é˜ˆå€¼åï¼Œå›è°ƒç›‘å¬äº‹ä»¶å¹¶æ˜¾ç¤ºLOAING_VIEWã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Log.i(TAG, &lt;span class=&quot;string&quot;&gt;&quot;refreshing...&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mIsLoading = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatchOnLoadingMoreListeners();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;smoothScrollToPosition(mLastVisibleItemPosition + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åˆ·æ–°å®Œæ¯•åï¼Œè®°å¾—é€šçŸ¥TurboRecyclerViewæ›´æ–°çŠ¶æ€å“¦ï¼&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mTurboRecyclerView.addOnLoadingMoreListener(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; OnLoadMoreListener() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onLoadingMore&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           handler.postDelayed(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Runnable() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                   mRecyclerView.loadMoreComplete(Arrays.asList(sCheeseStrings));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &amp;#125;, &lt;span class=&quot;number&quot;&gt;2000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è‡³æ­¤æ•´ä¸ªä¸Šæ‹‰åˆ°å¤ä½åˆ·æ–°çš„è¿‡ç¨‹å®Œæˆã€‚&lt;br&gt;å®Œæ•´ä»£ç è¯¦è§ &lt;a href=&quot;https://github.com/Solartisan/TurboRecyclerViewHelper/blob/master/turbo-recyclerview-helper/src/main/java/cc/solart/turbo/TurboRecyclerView.java&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;TurboRecyclerView.java&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¸Œæœ›æˆ‘çš„åˆ†äº«èƒ½è®©æ‚¨èƒ½æœ‰æ‰€æ”¶è·ã€‚ä¹Ÿæ¬¢è¿æ”¯æŒä¸€ä¸‹&lt;a href=&quot;https://github.com/Solartisan/TurboRecyclerViewHelper&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™ä¸ªé¡¹ç›®&lt;/a&gt;~ æŒç»­ç»´æŠ¤~&lt;/p&gt;
&lt;p&gt;ä¸‹æ¬¡å‡†å¤‡ä»‹ç»ä¸€ä¸‹å¯¹&lt;code&gt;RecyclerView.Adapter&lt;/code&gt;çš„å°è£…ï¼Œè¿˜è¯·å…³æ³¨ï¼ğŸ˜Š&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;è‡ªä»ä½¿ç”¨äº†&lt;code&gt;RecyclerView&lt;/code&gt;å†ä¹Ÿå›ä¸å»äº†ï¼Œä»€ä¹ˆListViewã€GridViewç»Ÿç»Ÿè®©ä»–ä»¬é€€ä¼‘äº†ã€‚å¿…é¡»å®‰åˆ©èµ·æ¥ï¼Œç”¨äº†æ‰èƒ½ä½“ä¼šå®ƒçš„ç¥å¥‡ï¼&lt;/p&gt;
&lt;p&gt;æ ¹æ®ä½¿ç”¨&lt;code&gt;RecyclerView&lt;/code&gt;ä»¥æ¥ï¼Œæ‹“å±•çš„ä¸€äº›åŠŸèƒ½åŠå¯¹&lt;code&gt;RecyclerView.Adapter&lt;/code&gt;çš„å°è£…ï¼Œæƒ³åœ¨è¿™é‡Œè·Ÿå¤§å®¶åˆ†äº«ä¸€äº›ç»éªŒï¼Œè¿˜æœ›æŒ‡æ­£ã€‚&lt;/p&gt;
&lt;h1 id=&quot;1-åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;a href=&quot;#1-åŠŸèƒ½ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;1. åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;/a&gt;1. åŠŸèƒ½ä»‹ç»&lt;/h1&gt;&lt;p&gt;åŸºäºå¯¹&lt;code&gt;RecyclerView&lt;/code&gt;åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ä¸€äº›ç—›ç‚¹å†™äº†è¿™ä¸ªå¼€æºé¡¹ç›® &lt;a href=&quot;https://github.com/Solartisan/TurboRecyclerViewHelper&quot;&gt;TurboRecyclerViewHelper&lt;/a&gt; ã€‚åŠŸèƒ½ç‚¹è¯¦è§READMEã€‚&lt;/p&gt;
&lt;img src=&quot;/images/turbo_simple.gif&quot;&gt;
&lt;p&gt;æœ¬æ¬¡ä¸»è¦ä»‹ç»é’ˆå¯¹&lt;code&gt;TurboRecyclerView&lt;/code&gt;ä¸Šæ‹‰/å·¦æ»‘çš„åŠŸèƒ½çš„å®ç°åŠæ€è·¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ç›´æ¥è¿›å…¥æ­£é¢˜â€¦&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://solart.cc/categories/Android/"/>
    
    
  </entry>
  
  <entry>
    <title>Androidä»£ç è§„èŒƒ</title>
    <link href="http://solart.cc/2016/05/14/code-specification/"/>
    <id>http://solart.cc/2016/05/14/code-specification/</id>
    <published>2016-05-14T03:19:20.000Z</published>
    <updated>2016-05-14T06:04:57.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;ä¸€ã€æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#ä¸€ã€æ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€æ¦‚è¿°&quot;&gt;&lt;/a&gt;ä¸€ã€æ¦‚è¿°&lt;/h1&gt;&lt;p&gt;æœ¬æ–‡æ¡£ä¸»è¦ç”¨äºå¸®åŠ©Androidå¼€å‘äººå‘˜è§„èŒƒä»£ç åŠèµ„æºæ–‡ä»¶å‘½åç­‰ï¼Œä½¿å¤§å®¶å°½é‡ä¿è¯ä¸€ä¸ªæ•´æ´çš„ç¼–ç¨‹é£æ ¼ã€‚&lt;/p&gt;
&lt;h1 id=&quot;äºŒã€Javaå‘½åè§„èŒƒ&quot;&gt;&lt;a href=&quot;#äºŒã€Javaå‘½åè§„èŒƒ&quot; class=&quot;headerlink&quot; title=&quot;äºŒã€Javaå‘½åè§„èŒƒ&quot;&gt;&lt;/a&gt;äºŒã€Javaå‘½åè§„èŒƒ&lt;/h1&gt;&lt;p&gt;æœ¬å‘½åè§„èŒƒä¸»è¦åŸºäº&lt;code&gt;éª†é©¼å‘½å&lt;/code&gt;è§„åˆ™(å¯¹äºè¿™ä¸ªéƒ½ä¿è¯ä¸äº†çš„ä»£ç ç®€ç›´ä¸èƒ½å¿)ã€‚&lt;/p&gt;
&lt;h2 id=&quot;2-1-ä¸è¦ä½¿ç”¨æ‹¼éŸ³å‘½ï¼Œé¿å…ä½¿ç”¨ç¼©å†™&quot;&gt;&lt;a href=&quot;#2-1-ä¸è¦ä½¿ç”¨æ‹¼éŸ³å‘½ï¼Œé¿å…ä½¿ç”¨ç¼©å†™&quot; class=&quot;headerlink&quot; title=&quot;2.1 ä¸è¦ä½¿ç”¨æ‹¼éŸ³å‘½ï¼Œé¿å…ä½¿ç”¨ç¼©å†™&quot;&gt;&lt;/a&gt;2.1 ä¸è¦ä½¿ç”¨æ‹¼éŸ³å‘½ï¼Œé¿å…ä½¿ç”¨ç¼©å†™&lt;/h2&gt;&lt;p&gt;# æ‰€æœ‰çš„åç§°å‘½ååº”è¯¥&lt;code&gt;ç®€æ´è€Œå¯Œæœ‰æ„ä¹‰&lt;/code&gt;ï¼Œå°½é‡ä½¿ç”¨å®Œæ•´å•è¯ã€‚å¢åŠ å¿…è¦çš„æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;# &lt;code&gt;é™¤éè¯¥ç¼©å†™è¢«æ›´å¹¿æ³›çš„ä½¿ç”¨&lt;/code&gt;ï¼Œä¾‹å¦‚URLã€HTMLã€‚&lt;/p&gt;
&lt;h2 id=&quot;2-2-åŒ…çš„å‘½å&quot;&gt;&lt;a href=&quot;#2-2-åŒ…çš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;2.2 åŒ…çš„å‘½å&quot;&gt;&lt;/a&gt;2.2 åŒ…çš„å‘½å&lt;/h2&gt;&lt;p&gt;# &lt;code&gt;åŒ…åç”±å°å†™çš„å­—æ¯ç»„æˆ&lt;/code&gt;ï¼Œä¾‹å¦‚ä»¥ cc.solart.&amp;lt;ä¸šåŠ¡æ¨¡å—å&amp;gt;.&amp;lt;å­æ¨¡å—å&amp;gt;å‘½å&lt;/p&gt;
&lt;p&gt;# ä¸€ä¸ªæ¨¡å—æ˜¯ä¸€ä¸ªåŠŸèƒ½ç›¸å¯¹ç‹¬ç«‹çš„æ¨¡å—ï¼Œ&lt;code&gt;åº”è°¨æ…åˆ›å»ºæ–°çš„æ¨¡å—å&lt;/code&gt; &lt;/p&gt;
&lt;h2 id=&quot;2-3-ç±»çš„å‘½å&quot;&gt;&lt;a href=&quot;#2-3-ç±»çš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;2.3 ç±»çš„å‘½å&quot;&gt;&lt;/a&gt;2.3 ç±»çš„å‘½å&lt;/h2&gt;&lt;p&gt;# &lt;code&gt;ç±»åçš„é¦–å­—æ¯å¿…é¡»å¤§å†™&lt;/code&gt;ï¼Œå¦‚æœç”±å¤šä¸ªå•è¯ç»„æˆï¼Œå¤šä¸ªå•è¯ç›´æ¥è¿æ¥ï¼Œ&lt;code&gt;æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¿…é¡»å¤§å†™ï¼Œå…¶ä»–å­—æ¯å°å†™&lt;/code&gt;ã€‚ä¾‹å¦‚ï¼špublic class LoginActivity &lt;/p&gt;
&lt;p&gt;# ç±»çš„åŸŸå®šä¹‰è€ƒé‡, éå…¬å¼€ç±»ä¸è¦ç”¨public&lt;code&gt;(æ³¨æ„ç±»çš„æœ‰æ•ˆä½œç”¨åŸŸ)&lt;/code&gt; &lt;/p&gt;
&lt;h2 id=&quot;2-4-æŠ½è±¡ç±»ã€æ¥å£çš„å‘½å&quot;&gt;&lt;a href=&quot;#2-4-æŠ½è±¡ç±»ã€æ¥å£çš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;2.4 æŠ½è±¡ç±»ã€æ¥å£çš„å‘½å&quot;&gt;&lt;/a&gt;2.4 æŠ½è±¡ç±»ã€æ¥å£çš„å‘½å&lt;/h2&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;# å¯¹äºæŠ½è±¡ç±»ï¼Œ&lt;code&gt;èŒè´£æ¯”è¾ƒå•ä¸€çš„ä»¥Abså¼€å¤´&lt;/code&gt;ï¼Œä¾‹å¦‚:AbsJsonRequestï¼ŒåªåŒ…å«å•ä¸€çš„ç½‘ç»œè¯·æ±‚ï¼›&lt;code&gt;å¯¹äºä¸€äº›åŸºç±»æŠ½è±¡å°è£…ä¸€èˆ¬é‡‡ç”¨Baseå¼€å¤´&lt;/code&gt;ï¼Œä¾‹å¦‚BaseActivityã€‚&lt;/p&gt;
&lt;p&gt;# å¯¹äºæœ‰æ˜æ˜¾æ¥å£ç‰¹å¾çš„æ¥å£(å¦‚åç¼€å«æœ‰Listener/Observer)ï¼Œå‚è€ƒç±»å‘½åè§„èŒƒå³å¯ï¼Œä¾‹å¦‚ï¼špublic interface ResponseListenerã€‚&lt;/p&gt;
&lt;p&gt;# &lt;code&gt;å¯¹äºæ²¡æœ‰æ˜æ˜¾æ¥å£ç‰¹å¾çš„æ¥å£å‘½åï¼Œé¦–å­—æ¯ç»Ÿä¸€ä¸ºå¤§å†™ I&lt;/code&gt;ï¼Œå…¶å®ƒå•è¯é¦–å­—æ¯å¤§å†™, ä¾‹å¦‚:public interface ILocationã€‚&lt;/p&gt;
&lt;h2 id=&quot;2-5-æ–¹æ³•åŠå‚æ•°çš„å‘½å&quot;&gt;&lt;a href=&quot;#2-5-æ–¹æ³•åŠå‚æ•°çš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;2.5 æ–¹æ³•åŠå‚æ•°çš„å‘½å&quot;&gt;&lt;/a&gt;2.5 æ–¹æ³•åŠå‚æ•°çš„å‘½å&lt;/h2&gt;&lt;p&gt;# &lt;code&gt;æ–¹æ³•åçš„é¦–å­—æ¯å¿…é¡»å°å†™&lt;/code&gt;ï¼Œéµå¾ªé©¼å³°å‘½åã€‚public void checkAuthToken()&lt;/p&gt;
&lt;p&gt;# æ–¹æ³•å‚æ•°åä»¥è¯¥å‚æ•°åŠŸèƒ½å‘½åï¼Œæ ¼å¼åŒæ–¹æ³•åå‘½åè§„åˆ™ç›¸åŒã€‚ public void checkAuthToken(String token)&lt;/p&gt;
&lt;h2 id=&quot;2-6-å¸¸é‡çš„å‘½å&quot;&gt;&lt;a href=&quot;#2-6-å¸¸é‡çš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;2.6 å¸¸é‡çš„å‘½å&quot;&gt;&lt;/a&gt;2.6 å¸¸é‡çš„å‘½å&lt;/h2&gt;&lt;p&gt;# &lt;code&gt;ç”¨ final static ä¿®é¥°ï¼Œåç§°éƒ½å¤§å†™&lt;/code&gt;ï¼Œå¤šä¸ªå•è¯ä»¥ä¸‹åˆ’çº¿ â€œ_â€ è¿æ¥ï¼Œå¦‚:public final static String HTTP_HOST = â€œ&lt;a href=&quot;http://127.0.0.1:8080/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://127.0.0.1:8080/&lt;/a&gt;â€œ; ã€‚&lt;/p&gt;
&lt;h2 id=&quot;2-7-å˜é‡çš„å‘½å&quot;&gt;&lt;a href=&quot;#2-7-å˜é‡çš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;2.7 å˜é‡çš„å‘½å&quot;&gt;&lt;/a&gt;2.7 å˜é‡çš„å‘½å&lt;/h2&gt;&lt;p&gt;# &lt;code&gt;é static çš„æˆå‘˜å˜é‡ï¼Œå‘½åå¿…é¡»å†™&amp;#39;m&amp;#39;å‰ç¼€&lt;/code&gt;ï¼Œå¦‚ï¼špublic Handler mHandler; &lt;/p&gt;
&lt;p&gt;# &lt;code&gt;staticä¿®é¥°çš„æˆå‘˜å˜é‡ï¼Œå‘½åå¿…é¡»å†™&amp;#39;s&amp;#39;å‰ç¼€&lt;/code&gt;ï¼Œå¦‚ï¼špublic static String sAppKey; &lt;/p&gt;
&lt;p&gt;# &lt;code&gt;æšä¸¾å˜é‡ä½¿ç”¨ç”¨&amp;#39;e&amp;#39;å‰ç¼€&lt;/code&gt;ï¼Œå¦‚ private Weekday eWeekday;&lt;/p&gt;
&lt;p&gt;# &lt;code&gt;å±€éƒ¨å˜é‡å‘½åé¦–å­—æ¯å°å†™å³å¯&lt;/code&gt;ï¼Œé‡‡ç”¨é©¼å³°å‘½åï¼Œå¦‚Context context;  &lt;/p&gt;
&lt;h1 id=&quot;ä¸‰ã€Androidèµ„æºæ–‡ä»¶å‘½åè§„åˆ™&quot;&gt;&lt;a href=&quot;#ä¸‰ã€Androidèµ„æºæ–‡ä»¶å‘½åè§„åˆ™&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰ã€Androidèµ„æºæ–‡ä»¶å‘½åè§„åˆ™&quot;&gt;&lt;/a&gt;ä¸‰ã€Androidèµ„æºæ–‡ä»¶å‘½åè§„åˆ™&lt;/h1&gt;&lt;p&gt;è§„èŒƒèµ„æºæ–‡ä»¶å‘½åï¼Œç»Ÿä¸€é£æ ¼ã€‚&lt;/p&gt;
&lt;h2 id=&quot;3-1-æ–‡ä»¶å‘½å&quot;&gt;&lt;a href=&quot;#3-1-æ–‡ä»¶å‘½å&quot; class=&quot;headerlink&quot; title=&quot;3.1 æ–‡ä»¶å‘½å&quot;&gt;&lt;/a&gt;3.1 æ–‡ä»¶å‘½å&lt;/h2&gt;&lt;p&gt;# res/layoutç›®å½•ä¸‹æ–‡ä»¶:ç»Ÿä¸€ä»¥å¸ƒå±€ç±»å‹å¼€å¤´ï¼Œç”¨å°å†™å’Œä¸‹åˆ’çº¿â€_â€ç»„åˆå‘½åï¼Œå¦‚ï¼šé¦–é¡µ xml å¸ƒå±€æ–‡ä»¶: ä¾‹å¦‚:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;activity_home.xml &lt;span class=&quot;comment&quot;&gt;# HomeActivityé¡µé¢å¸ƒå±€&lt;/span&gt;
 fragment_account.xml &lt;span class=&quot;comment&quot;&gt;# AccountFragmentå¸ƒå±€&lt;/span&gt;
 item_tips.xml &lt;span class=&quot;comment&quot;&gt;# Adapter itemå¸ƒå±€&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;# res/drawableç›®å½•ä¸‹æ–‡ä»¶:ç»Ÿä¸€ç”¨å°å†™åŠ ä¸‹åˆ’çº¿â€_â€ç»„åˆå‘½åï¼ŒåŒä¸Šï¼Œæ¯ä¸ªèµ„æºæ–‡ä»¶åŠ å‰ç¼€ä»¥ä¾¿åŒºåˆ†ç”¨é€”ã€‚å¦‚:&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#13;bg_selector_normal.xml&amp;#10;&amp;#13;icon_submit_default.png&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;3-2-èµ„æºIDå‘½å&quot;&gt;&lt;a href=&quot;#3-2-èµ„æºIDå‘½å&quot; class=&quot;headerlink&quot; title=&quot;3.2 èµ„æºIDå‘½å&quot;&gt;&lt;/a&gt;3.2 èµ„æºIDå‘½å&lt;/h2&gt;&lt;p&gt;# @id/@+id &lt;code&gt;åç§°çš„å¿…é¡»å…¨éƒ¨å°å†™ï¼Œå•è¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿éš”å¼€&lt;/code&gt;ï¼Œåç§°ä¸éœ€è¦å¤æ‚çš„å±‚çº§å®šä½ï¼Œåªè¦å‡†ç¡®æè¿°æ‰€ä»£è¡¨æ§ä»¶çš„åŠŸèƒ½ä½œç”¨å³å¯ï¼Œåœ¨åç§°&lt;code&gt;ä½¿ç”¨å½“å‰æ§ä»¶ç±»å‹çš„ç¼©å†™ä½œä¸ºå‰ç¼€&lt;/code&gt;ã€‚ä¾‹å¦‚ï¼š@+id/tv_nameã€‚&lt;/p&gt;
&lt;p&gt;# res/values/demins: ç»Ÿä¸€ç”¨å°å†™åŠ ä¸‹åˆ’çº¿â€_â€œç»„åˆå‘½åï¼Œå®šä¹‰è·ç¦»é€šç”¨å€¼ï¼Œå®šä¹‰å­—ä½“å¤§å°é€šç”¨å€¼ï¼Œå…¶ä»–é¢œè‰²ç»Ÿä¸€ç”¨sp/dp_&amp;lt;æ•°å€¼&amp;gt;è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;activity_horizontal_margin&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;16dp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;activity_vertical_margin&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;16dp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;fab_margin&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;16dp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;app_bar_height&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;180dp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;dp_1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;1dp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;dp_2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;2dp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;dp_3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;3dp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;dp_4&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;4dp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;dp_5&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;5dp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;value&quot;&gt;&quot;dp_16&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;16dp&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;title&quot;&gt;dimen&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;# res/values/colors: ç»Ÿä¸€ç”¨å°å†™åŠ ä¸‹åˆ’çº¿â€_â€œç»„åˆå‘½åï¼Œå®šä¹‰é€šç”¨çš„èƒŒæ™¯è‰²bg_colorï¼Œå®šä¹‰å­—ä½“é€šç”¨è‰²å€¼ï¼Œå…¶ä»–é¢œè‰²ç»Ÿä¸€ç”¨app_&amp;lt;è‰²å€¼&amp;gt;è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--è½½ä½“é¢œè‰²--&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;bg_color&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;#E5E5E5&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt;&amp;gt;&lt;/span&gt;    
 &lt;span class=&quot;comment&quot;&gt;&amp;lt;!--Material design color--&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;comment&quot;&gt;&amp;lt;!--æ­£å¸¸å­—ä½“87%é€æ˜é»‘è‰²--&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;font_color_normal_black_87&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;#DD000000&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt;&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;comment&quot;&gt;&amp;lt;!--æ­£å¸¸å­—ä½“54%é€æ˜é»‘è‰²--&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;font_color_light_black_54&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;#89000000&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt;&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;comment&quot;&gt;&amp;lt;!--ä¸å¯ç”¨çŠ¶æ€ä½¿ç”¨çš„é¢œè‰²26%é€æ˜--&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;font_color_enable_black_26&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;#42000000&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt;&amp;gt;&lt;/span&gt;

 &lt;span class=&quot;comment&quot;&gt;&amp;lt;!--å…¶ä»–éé€šç”¨è‰²å€¼ é‡‡ç”¨app_&amp;lt;å°å†™è‰²å€¼ç¼–ç &amp;gt;å‘½åå³å¯ï¼Œvalueè‰²å€¼å­—æ¯å¤§å†™--&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;app_d2322a&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;#FFD2322A&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt;&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;app_f36754&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;#FFF36754&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt;&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;app_d4503e&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;#FFD4503E&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;color&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&quot;å››ã€ç¼–ç é£æ ¼&quot;&gt;&lt;a href=&quot;#å››ã€ç¼–ç é£æ ¼&quot; class=&quot;headerlink&quot; title=&quot;å››ã€ç¼–ç é£æ ¼&quot;&gt;&lt;/a&gt;å››ã€ç¼–ç é£æ ¼&lt;/h1&gt;&lt;h2 id=&quot;4-1-ä¸€èˆ¬æ€§è¯´æ˜&quot;&gt;&lt;a href=&quot;#4-1-ä¸€èˆ¬æ€§è¯´æ˜&quot; class=&quot;headerlink&quot; title=&quot;4.1 ä¸€èˆ¬æ€§è¯´æ˜&quot;&gt;&lt;/a&gt;4.1 ä¸€èˆ¬æ€§è¯´æ˜&lt;/h2&gt;&lt;p&gt;# &lt;code&gt;æ–¹æ³•ä½“è¡Œæ•°ä¸å¾—è¶…è¿‡ 40 è¡Œ&lt;/code&gt;(ä¸€èˆ¬æ¥è¯´40è¡Œç»å¯¹å¤Ÿç”¨ï¼Œä¸”æ˜“äºç»´æŠ¤)ï¼›&lt;br&gt;# é™¤å»ç¼©è¿›é•¿åº¦ï¼Œ&lt;code&gt;å•è¡Œé•¿åº¦ä¸å¾—è¶…è¿‡ 100 ä¸ªå­—ç¬¦&lt;/code&gt;ï¼›&lt;br&gt;# &lt;code&gt;åœˆå¤æ‚åº¦ä¸èƒ½è¶…è¿‡ 2 å±‚&lt;/code&gt;ï¼›&lt;br&gt;# å•ä¸ªæ–‡ä»¶é•¿åº¦ä¸€èˆ¬ä¸è¶…è¿‡ 1500 è¡Œ(ç¬¬ä¸‰æ–¹ä»£ç é™¤å¤–)ï¼›&lt;br&gt;# å…¬å¼€ API ä¸­æ‰€æœ‰å‚æ•°éƒ½å¿…é¡»è¿›è¡Œæœ‰æ•ˆæ€§éªŒè¯ï¼›&lt;br&gt;# æ¯æ¬¡ä»£ç æäº¤ä¹‹å‰å¿…é¡»åˆ é™¤å¤§é‡æ— æ•ˆä»£ç ï¼Œå»é™¤æ— ç”¨çš„ç±»importï¼›&lt;br&gt;# &lt;code&gt;ä½¿ç”¨ç¬¬ä¸‰æ–¹APIå¢åŠ å¼‚å¸¸æ•è·&lt;/code&gt;ï¼Œé™ä½ä½¿ç”¨é£é™©ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ä¸€ã€æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#ä¸€ã€æ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€æ¦‚è¿°&quot;&gt;&lt;/a&gt;ä¸€ã€æ¦‚è¿°&lt;/h1&gt;&lt;p&gt;æœ¬æ–‡æ¡£ä¸»è¦ç”¨äºå¸®åŠ©Androidå¼€å‘äººå‘˜è§„èŒƒä»£ç åŠèµ„æºæ–‡ä»¶å‘½åç­‰ï¼Œä½¿å¤§å®¶å°½é‡ä¿è¯ä¸€ä¸ªæ•´æ´çš„ç¼–ç¨‹é£æ ¼ã€‚&lt;/p&gt;
&lt;h1 id=&quot;äºŒã€Javaå‘½åè§„èŒƒ&quot;&gt;&lt;a href=&quot;#äºŒã€Javaå‘½åè§„èŒƒ&quot; class=&quot;headerlink&quot; title=&quot;äºŒã€Javaå‘½åè§„èŒƒ&quot;&gt;&lt;/a&gt;äºŒã€Javaå‘½åè§„èŒƒ&lt;/h1&gt;&lt;p&gt;æœ¬å‘½åè§„èŒƒä¸»è¦åŸºäº&lt;code&gt;éª†é©¼å‘½å&lt;/code&gt;è§„åˆ™(å¯¹äºè¿™ä¸ªéƒ½ä¿è¯ä¸äº†çš„ä»£ç ç®€ç›´ä¸èƒ½å¿)ã€‚&lt;/p&gt;
&lt;h2 id=&quot;2-1-ä¸è¦ä½¿ç”¨æ‹¼éŸ³å‘½ï¼Œé¿å…ä½¿ç”¨ç¼©å†™&quot;&gt;&lt;a href=&quot;#2-1-ä¸è¦ä½¿ç”¨æ‹¼éŸ³å‘½ï¼Œé¿å…ä½¿ç”¨ç¼©å†™&quot; class=&quot;headerlink&quot; title=&quot;2.1 ä¸è¦ä½¿ç”¨æ‹¼éŸ³å‘½ï¼Œé¿å…ä½¿ç”¨ç¼©å†™&quot;&gt;&lt;/a&gt;2.1 ä¸è¦ä½¿ç”¨æ‹¼éŸ³å‘½ï¼Œé¿å…ä½¿ç”¨ç¼©å†™&lt;/h2&gt;&lt;p&gt;# æ‰€æœ‰çš„åç§°å‘½ååº”è¯¥&lt;code&gt;ç®€æ´è€Œå¯Œæœ‰æ„ä¹‰&lt;/code&gt;ï¼Œå°½é‡ä½¿ç”¨å®Œæ•´å•è¯ã€‚å¢åŠ å¿…è¦çš„æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;# &lt;code&gt;é™¤éè¯¥ç¼©å†™è¢«æ›´å¹¿æ³›çš„ä½¿ç”¨&lt;/code&gt;ï¼Œä¾‹å¦‚URLã€HTMLã€‚&lt;/p&gt;
&lt;h2 id=&quot;2-2-åŒ…çš„å‘½å&quot;&gt;&lt;a href=&quot;#2-2-åŒ…çš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;2.2 åŒ…çš„å‘½å&quot;&gt;&lt;/a&gt;2.2 åŒ…çš„å‘½å&lt;/h2&gt;&lt;p&gt;# &lt;code&gt;åŒ…åç”±å°å†™çš„å­—æ¯ç»„æˆ&lt;/code&gt;ï¼Œä¾‹å¦‚ä»¥ cc.solart.&amp;lt;ä¸šåŠ¡æ¨¡å—å&amp;gt;.&amp;lt;å­æ¨¡å—å&amp;gt;å‘½å&lt;/p&gt;
&lt;p&gt;# ä¸€ä¸ªæ¨¡å—æ˜¯ä¸€ä¸ªåŠŸèƒ½ç›¸å¯¹ç‹¬ç«‹çš„æ¨¡å—ï¼Œ&lt;code&gt;åº”è°¨æ…åˆ›å»ºæ–°çš„æ¨¡å—å&lt;/code&gt; &lt;/p&gt;
&lt;h2 id=&quot;2-3-ç±»çš„å‘½å&quot;&gt;&lt;a href=&quot;#2-3-ç±»çš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;2.3 ç±»çš„å‘½å&quot;&gt;&lt;/a&gt;2.3 ç±»çš„å‘½å&lt;/h2&gt;&lt;p&gt;# &lt;code&gt;ç±»åçš„é¦–å­—æ¯å¿…é¡»å¤§å†™&lt;/code&gt;ï¼Œå¦‚æœç”±å¤šä¸ªå•è¯ç»„æˆï¼Œå¤šä¸ªå•è¯ç›´æ¥è¿æ¥ï¼Œ&lt;code&gt;æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¿…é¡»å¤§å†™ï¼Œå…¶ä»–å­—æ¯å°å†™&lt;/code&gt;ã€‚ä¾‹å¦‚ï¼špublic class LoginActivity &lt;/p&gt;
&lt;p&gt;# ç±»çš„åŸŸå®šä¹‰è€ƒé‡, éå…¬å¼€ç±»ä¸è¦ç”¨public&lt;code&gt;(æ³¨æ„ç±»çš„æœ‰æ•ˆä½œç”¨åŸŸ)&lt;/code&gt; &lt;/p&gt;
&lt;h2 id=&quot;2-4-æŠ½è±¡ç±»ã€æ¥å£çš„å‘½å&quot;&gt;&lt;a href=&quot;#2-4-æŠ½è±¡ç±»ã€æ¥å£çš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;2.4 æŠ½è±¡ç±»ã€æ¥å£çš„å‘½å&quot;&gt;&lt;/a&gt;2.4 æŠ½è±¡ç±»ã€æ¥å£çš„å‘½å&lt;/h2&gt;
    
    </summary>
    
      <category term="Android" scheme="http://solart.cc/categories/Android/"/>
    
    
  </entry>
  
  <entry>
    <title>Android WebViewåŠ è½½html5åŠJSäº¤äº’æ¡†æ¶</title>
    <link href="http://solart.cc/2016/03/25/open-web/"/>
    <id>http://solart.cc/2016/03/25/open-web/</id>
    <published>2016-03-25T08:06:04.000Z</published>
    <updated>2016-05-14T03:16:38.000Z</updated>
    
    <content type="html">&lt;p&gt;å½“å‰è¶Šæ¥è¶Šå¤šçš„appä¸­åµŒå…¥H5ï¼Œæƒ³è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹å…·ä½“åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨å’Œè®¾è®¡ï¼Œæ•…å†™äº†è¿™ä¸ª&lt;a href=&quot;https://github.com/Solartisan/OpenWeb&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å¼€æºé¡¹ç›®&lt;/a&gt;ï¼Œæ¬¢è¿å¤§å®¶æ‰¹è¯„æŒ‡æ­£ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œä»‹ç»ä¸€ä¸‹OpenWebé¡¹ç›®åŸºç¡€çš„æ¡†æ¶è®¾è®¡ã€‚&lt;/p&gt;
&lt;h1 id=&quot;1-åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;a href=&quot;#1-åŠŸèƒ½ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;1.åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;/a&gt;1.åŠŸèƒ½ä»‹ç»&lt;/h1&gt;&lt;p&gt;åŸºäºWebViewè®¾è®¡çš„H5é¡µé¢çš„åŠ è½½æ¡†æ¶ï¼Œå¯ä»¥è‡ªåŠ¨ç®¡ç†å›é€€æ ˆï¼Œå¯ä»¥æ”¯æŒjsä¸nativeçš„äº¤äº’ï¼Œå¯é…åˆä¸‹æ‹‰åˆ·æ–°æ§ä»¶ï¼Œå¯ä¿®æ”¹æ¨ªå‘è¿›åº¦æ¡ã€‚&lt;/p&gt;
&lt;h1 id=&quot;2-è®¾è®¡&quot;&gt;&lt;a href=&quot;#2-è®¾è®¡&quot; class=&quot;headerlink&quot; title=&quot;2.è®¾è®¡&quot;&gt;&lt;/a&gt;2.è®¾è®¡&lt;/h1&gt;&lt;img src=&quot;/images/open_web.png&quot;&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h1 id=&quot;3-æ ¸å¿ƒç±»åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;a href=&quot;#3-æ ¸å¿ƒç±»åŠŸèƒ½ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;3.æ ¸å¿ƒç±»åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;/a&gt;3.æ ¸å¿ƒç±»åŠŸèƒ½ä»‹ç»&lt;/h1&gt;&lt;h2 id=&quot;3-1-WebUrl-java&quot;&gt;&lt;a href=&quot;#3-1-WebUrl-java&quot; class=&quot;headerlink&quot; title=&quot;3.1 WebUrl.java&quot;&gt;&lt;/a&gt;3.1 WebUrl.java&lt;/h2&gt;&lt;p&gt;å®šä¹‰äº†&lt;code&gt;String getCurrentUrl()&lt;/code&gt;æ¥å£ï¼Œè·å–å½“å‰é¡µé¢çš„çš„URLï¼Œç”¨äºè®°å½•å½“å‰é¡µé¢çš„jså›è°ƒæ³¨å†Œã€‚&lt;/p&gt;
&lt;h2 id=&quot;3-2-BaseWebEvent-java&quot;&gt;&lt;a href=&quot;#3-2-BaseWebEvent-java&quot; class=&quot;headerlink&quot; title=&quot;3.2 BaseWebEvent.java&quot;&gt;&lt;/a&gt;3.2 BaseWebEvent.java&lt;/h2&gt;&lt;p&gt;è¯¥ç±»ä¸»è¦å°è£…äº†åŸºç¡€çš„&lt;code&gt;@JavascriptInterface&lt;/code&gt;æ¥å£ï¼ŒHandleræ¶ˆæ¯å¸¸é‡å®šä¹‰åŠjsçš„å›è°ƒæ³¨å†Œã€‚&lt;/p&gt;
&lt;p&gt;æ„é€ å‡½æ•°å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseWebEvent&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, Handler handler, WebUrl url)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mContext = context;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mHandler = handler;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mListener = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; HashMap();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mUrlSource = url;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Handleræ¶ˆæ¯å°è£…å¦‚ä¸‹ï¼Œç”¨äº&lt;code&gt;@JavascriptInterface&lt;/code&gt;æ¥å£å‘é€æ¶ˆæ¯å¤„ç†ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; what&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; obj&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sendAsyncCallbackMessage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; what, Object obj)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sendAsyncCallbackMessageDelay(what,obj,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; what&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; obj&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; delay&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sendAsyncCallbackMessageDelay&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; what, Object obj,&lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; delay)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mHandler != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         Message msg = mHandler.obtainMessage();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         msg.what = what;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         msg.obj = obj;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         mHandler.sendMessageDelayed(msg,delay);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;3-3-BaseWebFragment-java&quot;&gt;&lt;a href=&quot;#3-3-BaseWebFragment-java&quot; class=&quot;headerlink&quot; title=&quot;3.3 BaseWebFragment.java&quot;&gt;&lt;/a&gt;3.3 BaseWebFragment.java&lt;/h2&gt;&lt;p&gt;è¿™ä¸ªç±»ä¸ºæŠ½è±¡ç±»æ˜¯ä¸»è¦çš„WebViewæ‰¿è½½ç±»ï¼Œå†…éƒ¨å®šä¹‰äº†WebViewåŠBaseWebEventåŠç½‘ç»œçŠ¶æ€å˜åŒ–çš„ç›‘å¬ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;WebViewçš„&lt;code&gt;Settings&lt;/code&gt;é…ç½®ï¼Œä¸»è¦é’ˆå¯¹WebViewåšåŸºç¡€çš„è®¾ç½®ï¼Œ&lt;code&gt;WebChromeClient&lt;/code&gt;,&lt;code&gt;WebViewClient&lt;/code&gt;è®¾ç½®ï¼Œä»¥åŠå¯¹ä¸‹è½½ç›‘å¬çš„è®¾ç½®ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onInitWebViewSettings&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è¿™é‡Œè®¾ç½®äº†åŸºç¡€çš„Settings&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    WebSettingsUtil.initSettings(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mActivity, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mWebView);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    WebChromeClient webChromeClient = onCreateWebChromeClient();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (webChromeClient != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mWebView.setWebChromeClient(webChromeClient);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    WebViewClient webViewClient = onCreateWebViewClient();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (webViewClient != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mWebView.setWebViewClient(webViewClient);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mWebView.setOverScrollMode(View.OVER_SCROLL_NEVER);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mWebView.requestFocus();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mWebView.setDownloadListener(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; WebDownloadListener(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨å­ç±»çš„å®ç°ä¸­åº”è¯¥è¦†å†™ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•ç”¨äº&lt;code&gt;WebChromeClient&lt;/code&gt;,&lt;code&gt;WebViewClient&lt;/code&gt;çš„è®¾ç½®ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; WebChromeClient &lt;span class=&quot;title&quot;&gt;onCreateWebChromeClient&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; BaseWebChromeClient(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; WebViewClient &lt;span class=&quot;title&quot;&gt;onCreateWebViewClient&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; BaseWebViewClient(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ³¨æ„ï¼Œè¦å…³æ³¨WebViewå¯èƒ½å­˜åœ¨å†…å­˜æ³„éœ²çš„é—®é¢˜ï¼Œæ‰€ä»¥åœ¨Fragmentçš„ç”Ÿå‘½å‘¨æœŸä¸­é’ˆå¯¹WebViewåšç›¸åº”æ“ä½œï¼Œé¿å…å†…å­˜æ³„éœ²é—®é¢˜&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onResume&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onResume();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mWebView != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mWebView.onResume();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onPause&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onPause();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mWebView != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mWebView.onPause();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onDestroy&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onDestroy();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mWebView != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ((ViewGroup) mWebView.getParent()).removeView(mWebView);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mWebView.destroy();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mWebView = &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½œä¸ºå®ç°ç±»å¿…é¡»å®ç°ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ç”¨äºæä¾›ä¸€ä¸ªlayoutå’Œä¸€ä¸ªä¸‹æ‹‰åˆ·æ–°çš„ç›‘å¬&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;loadLayoutRes&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getWebViewId&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;3-5-OpenWebFragment-java&quot;&gt;&lt;a href=&quot;#3-5-OpenWebFragment-java&quot; class=&quot;headerlink&quot; title=&quot;3.5 OpenWebFragment.java&quot;&gt;&lt;/a&gt;3.5 OpenWebFragment.java&lt;/h2&gt;&lt;p&gt;BaseWebFragmentçš„å­ç±»ï¼Œä¸»è¦å…·ä½“å®ç°H5åŠ è½½çš„ä¸šåŠ¡é€»è¾‘ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ï¼Œè¦†å†™&lt;code&gt;onInitWebViewSettings&lt;/code&gt;æ–¹æ³•ï¼Œåˆå§‹åŒ–&lt;code&gt;mBaseEvent&lt;/code&gt;ä»¥åŠæ·»åŠ JavascriptInterfaceæ”¯æŒ&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onInitWebViewSettings&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onInitWebViewSettings();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mHandler = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; WebFragmentHandler(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mWebEvent = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; OpenWebEvent(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mActivity, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mHandler, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; WebUrl() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getCurrentUrl&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; mWebView.getUrl();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mWebView.addJavascriptInterface(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mWebEvent, &lt;span class=&quot;string&quot;&gt;&quot;MyJsBridge&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;å½“å‰è¶Šæ¥è¶Šå¤šçš„appä¸­åµŒå…¥H5ï¼Œæƒ³è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹å…·ä½“åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨å’Œè®¾è®¡ï¼Œæ•…å†™äº†è¿™ä¸ª&lt;a href=&quot;https://github.com/Solartisan/OpenWeb&quot;&gt;å¼€æºé¡¹ç›®&lt;/a&gt;ï¼Œæ¬¢è¿å¤§å®¶æ‰¹è¯„æŒ‡æ­£ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œä»‹ç»ä¸€ä¸‹OpenWebé¡¹ç›®åŸºç¡€çš„æ¡†æ¶è®¾è®¡ã€‚&lt;/p&gt;
&lt;h1 id=&quot;1-åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;a href=&quot;#1-åŠŸèƒ½ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;1.åŠŸèƒ½ä»‹ç»&quot;&gt;&lt;/a&gt;1.åŠŸèƒ½ä»‹ç»&lt;/h1&gt;&lt;p&gt;åŸºäºWebViewè®¾è®¡çš„H5é¡µé¢çš„åŠ è½½æ¡†æ¶ï¼Œå¯ä»¥è‡ªåŠ¨ç®¡ç†å›é€€æ ˆï¼Œå¯ä»¥æ”¯æŒjsä¸nativeçš„äº¤äº’ï¼Œå¯é…åˆä¸‹æ‹‰åˆ·æ–°æ§ä»¶ï¼Œå¯ä¿®æ”¹æ¨ªå‘è¿›åº¦æ¡ã€‚&lt;/p&gt;
&lt;h1 id=&quot;2-è®¾è®¡&quot;&gt;&lt;a href=&quot;#2-è®¾è®¡&quot; class=&quot;headerlink&quot; title=&quot;2.è®¾è®¡&quot;&gt;&lt;/a&gt;2.è®¾è®¡&lt;/h1&gt;&lt;img src=&quot;/images/open_web.png&quot;&gt;
    
    </summary>
    
      <category term="Android" scheme="http://solart.cc/categories/Android/"/>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://solart.cc/2016/02/20/hello-world/"/>
    <id>http://solart.cc/2016/02/20/hello-world/</id>
    <published>2016-02-20T02:08:22.000Z</published>
    <updated>2016-05-01T04:18:02.000Z</updated>
    
    <content type="html">&lt;p&gt;Welcome to &lt;a href=&quot;http://solart.cc/&quot;&gt;Solart&lt;/a&gt;! &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ä¸ªåšå®¢ä¸»è¦æ˜¯ä¸ºäº†è´¡çŒ®é«˜è´¨é‡çš„æŠ€æœ¯åˆ†æåŠå¼€æºé¡¹ç›®ï¼Œç›®å‰ä¸»è¦æ·±è€•ç§»åŠ¨ç«¯Androidæ–¹å‘ã€‚æ¬¢è¿æ›´å¤šçš„æœ‹å‹åŠ å…¥æˆ‘ä»¬!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Github &lt;a href=&quot;https://github.com/solartisan&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Solartisan&lt;/a&gt;&lt;/p&gt;
&lt;img src=&quot;/images/clock.jpg&quot; width=&quot;640&quot; height=&quot;480&quot;&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;http://solart.cc/&quot;&gt;Solart&lt;/a&gt;! &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ä¸ªåšå®¢ä¸»è¦æ˜¯ä¸ºäº†è´¡çŒ®é«˜è´¨é‡çš„æŠ€æœ¯åˆ†æåŠå¼€æºé¡¹ç›®ï¼Œç›®å‰ä¸»è¦æ·±è€•ç§»åŠ¨ç«¯Androidæ–¹å‘ã€‚æ¬¢è¿æ›´å¤šçš„æœ‹å‹åŠ å…¥æˆ‘ä»¬!&lt;/p&gt;
&lt;/bl
    
    </summary>
    
    
  </entry>
  
</feed>
