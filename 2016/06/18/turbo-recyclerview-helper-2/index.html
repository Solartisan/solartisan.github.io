<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> TurboRecyclerViewHelperä¹‹å®ç°Adapterçš„ä¼˜åŒ–å°è£… Â· Solartisan</title><meta name="description" content="TurboRecyclerViewHelperä¹‹å®ç°Adapterçš„ä¼˜åŒ–å°è£… - imilk"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/logo.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/solartisan" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">TurboRecyclerViewHelperä¹‹å®ç°Adapterçš„ä¼˜åŒ–å°è£…</h1><div class="post-time">Jun 18, 2016</div><div class="post-content"><p>ä¸Šæ¬¡è®²åˆ°<a href="http://solart.cc/2016/06/01/turbo-recyclerview-helper-1/">å®ç°RecyclerViewçš„åŠŸèƒ½æ‰©å±•</a>,æœ¬æ¬¡å°±æ¥ç€ä»‹ç»é’ˆå¯¹<code>RecyclerView.Adapter</code>çš„å°è£…çš„ä¸€äº›æƒ³æ³•ã€‚</p>
<h1 id="1ã€åŠŸèƒ½ä»‹ç»"><a href="#1ã€åŠŸèƒ½ä»‹ç»" class="headerlink" title="1ã€åŠŸèƒ½ä»‹ç»"></a>1ã€åŠŸèƒ½ä»‹ç»</h1><p>éšç€ç§»åŠ¨ç«¯çš„è“¬å‹ƒå‘å±•ï¼Œå¤æ‚çš„äº§å“å¸ƒå±€ä¹Ÿå˜æˆäº†å®¶å¸¸ä¾¿é¥­ï¼Œå¤æ‚çš„å¸ƒå±€æ’åˆ—ç»„åˆä¹Ÿæˆäº†å¸¸æ€ã€‚</p>
<a id="more"></a>
<img src="/images/home_model.png">
<p>æ¯”å¦‚åœ¨æ‹¿åˆ°è¿™ä¸ªéœ€æ±‚ä¹‹åï¼Œå¦‚æœæ”¾åœ¨ä¹‹å‰æˆ‘å¤§å¤šæ˜¯ç”¨ScrollViewæˆ–è€…ListViewçš„å¤šTypeç±»å‹æ¥å®ç°ã€‚</p>
<p>å¦‚ä»Šï¼Œé‡‡ç”¨<code>RecyclerView</code>å¯ä»¥å®ç°ä¸€ä¸ªæ€§èƒ½æ›´ä¼˜çš„æ–¹æ¡ˆï¼Œ<code>RecyclerView</code>æä¾›äº†ä¸€ç§æ’æ‹”å¼çš„æ¶æ„è®¾è®¡ï¼Œé«˜åº¦çš„è§£è€¦ï¼Œå¼‚å¸¸çš„çµæ´»ï¼Œä¹Ÿå› ä¸ºè¿™äº›ç‰¹æ€§éœ€è¦è°ƒç”¨è€…è‡ªå·±æ¥å®ç°çš„ä»£ç å°±ç›¸å¯¹å¤šä¸€äº›ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ¿€å‘äº†è‡ªå·±æƒ³è¿›ä¸€æ­¥å°è£…ä¸€ä¸ªæ›´å¥½ç”¨å¹¶ä¸”ä¸å¤±çµæ´»æ€§çš„<code>Adapter</code>ã€‚</p>
<p>å½“ç„¶ï¼Œå¯¹äºå®ç°ä»¥ä¸Šéœ€æ±‚è¿˜é…åˆäº†<code>ItemDecoration</code>æ¥å®ç°é—´éš”ï¼Œè¿™é‡Œå°±å…ˆæŒ‰ä¸‹ä¸è¡¨ã€‚</p>
<blockquote>
<ul>
<li>æ”¯æŒæ•°æ®æºçš„æ·»åŠ /åˆ é™¤/é‡ç½®</li>
<li>æ”¯æŒå¤šç±»å‹å¸ƒå±€</li>
<li>æ·»åŠ /ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨</li>
<li>æ”¯æŒæ·»åŠ ç‚¹å‡»äº‹ä»¶</li>
<li>é…åˆTurboRecyclerViewä¸Šæ‹‰/å·¦æ»‘åŠ è½½</li>
</ul>
</blockquote>
<p>æ¥ä¸‹æ¥ï¼Œé’ˆå¯¹ä»¥ä¸Šéœ€æ±‚å±•å¼€ä»‹ç»ã€‚</p>
<h1 id="2ã€æ•°æ®æºçš„æ·»åŠ -åˆ é™¤-é‡ç½®"><a href="#2ã€æ•°æ®æºçš„æ·»åŠ -åˆ é™¤-é‡ç½®" class="headerlink" title="2ã€æ•°æ®æºçš„æ·»åŠ /åˆ é™¤/é‡ç½®"></a>2ã€æ•°æ®æºçš„æ·»åŠ /åˆ é™¤/é‡ç½®</h1><p>å¤§å®¶çŸ¥é“<code>RecyclerView.Adapter</code>æ˜¯RecyclerViewä¸æ•°æ®ä¹‹é—´çš„æ¡¥æ¢ï¼Œæ‰€ä»¥é’ˆå¯¹æ•°æ®æºæˆ‘çš„æƒ³æ³•æ˜¯åœ¨Adapterä¸­ç»´æŠ¤ä¸€ä¸ª<code>List&lt;T&gt;</code>ï¼Œè¿™æ ·å¯ä»¥ä¸ä¾èµ–å¤–éƒ¨æ•°æ®æºï¼Œä¿è¯List<t>å¯¹Adapterçš„å¯è§æ€§ï¼Œåœ¨Adapterçš„å°è£…ä¸­ä»…æä¾›å¢ã€åˆ ä»¥åŠé‡ç½®çš„æ–¹æ³•ï¼Œæ‰€æœ‰å¯¹æ•°æ®æºæ“ä½œéƒ½é€šè¿‡Adapterä¸­æä¾›çš„æ¥å£æ¥å®ç°å¢åˆ ã€‚</t></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> List&lt;T&gt; mData;</span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BaseTurboAdapter</span><span class="params">(Context context, List&lt;T&gt; data)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.mData = data == <span class="keyword">null</span> ? <span class="keyword">new</span> ArrayList&lt;T&gt;() : <span class="keyword">new</span> ArrayList&lt;T&gt;(data);</span><br><span class="line">      ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹æ·»åŠ æ•°æ®çš„æ¥å£ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T item)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span> isAdd = mData.add(item);</span><br><span class="line">    <span class="keyword">if</span> (isAdd)</span><br><span class="line">        notifyItemInserted(mData.size() + getHeaderViewCount());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> position, T item)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (position &lt; <span class="number">0</span> || position &gt; mData.size()) &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">"add position = "</span> + position + <span class="string">", IndexOutOfBounds, please check your code!"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    mData.add(position, item);</span><br><span class="line">    notifyItemInserted(position + getHeaderViewCount());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addData</span><span class="params">(List&lt;T&gt; data)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (data != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.mData.addAll(data);</span><br><span class="line">    &#125;</span><br><span class="line">    notifyDataSetChanged();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œéœ€è¦æä¸€ä¸‹ï¼Œé’ˆå¯¹add(postion,T)ä¸­çš„<code>position</code>æ˜¯æ•´ä¸ªAdapterä¸­getItemCount()åéœ€è¦å‡å»å¤´éƒ¨çš„è®¡æ•°ï¼Œåé¢ä¼šè®²åˆ°ã€‚</p>
<p>åˆ é™¤æ•°æ®çš„æ¥å£ä¸æ·»åŠ ç±»ä¼¼ï¼Œå°±ä¸åœ¨è´´ä»£ç äº†ï¼Œè¿™é‡Œæˆ‘ä»¬åˆæä¾›ä¸€ä¸ªé‡ç½®æ•°æ®çš„æ–¹æ³•ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">resetData</span><span class="params">(List&lt;T&gt; data)</span> </span>&#123;</span><br><span class="line">    mData.clear();</span><br><span class="line">    addData(data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸€èˆ¬æœ‰é‡æ–°åˆ·æ–°æ—¶ï¼Œè¯·è°ƒç”¨è¿™ä¸ªæ–¹æ³•é‡ç½®æ•°æ®æºã€‚</p>
<h1 id="3ã€æ·»åŠ -ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨"><a href="#3ã€æ·»åŠ -ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨" class="headerlink" title="3ã€æ·»åŠ /ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨"></a>3ã€æ·»åŠ /ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨</h1><p>RecyclerViewæ˜¯ä¸€ä¸ªæ€§èƒ½æ›´ä¼˜çš„æ§ä»¶ï¼Œæ‰€ä»¥å¯¹å¤šå¸ƒå±€çš„æ”¯æŒä¹Ÿæ›´å¥½ã€‚Headerå’ŒFooteræ˜¯é…åˆgetItemViewType(position)æ¥å®ç°ï¼Œæˆ‘ä»¬çŸ¥é“Headerã€Footerçš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥å¯¹äºå¤´éƒ¨å’Œå°¾éƒ¨çš„Typeç±»å‹å¤„ç†å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">getItemViewType</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mHeaderView != <span class="keyword">null</span> &amp;&amp; position == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> TYPE_HEADER_VIEW;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (position == mData.size() + getHeaderViewCount()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (mLoading) &#123;</span><br><span class="line">            ...</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (mFooterView != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> TYPE_FOOTER_VIEW;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ /ç§»é™¤å¤´éƒ¨å’Œå°¾éƒ¨ä¼šå¯¹<code>ItemCount</code>æœ‰å½±å“ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®ç°getItemCountï¼Œå…ˆæ¥çœ‹çœ‹æºç ä¸Šçš„æ³¨è§£ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Returns the total number of items in the data set hold by the adapter.</span><br><span class="line"> *</span><br><span class="line"> * <span class="doctag">@return</span> The total number of items in this adapter.</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">int</span> <span class="title">getItemCount</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<p>æ¥çœ‹çœ‹å…·ä½“çš„å®ç°ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getItemCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    <span class="keyword">if</span> (mLoading) &#123; <span class="comment">//if loading ignore footer view</span></span><br><span class="line">        count = mData.size() + <span class="number">1</span> + getHeaderViewCount();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        count = mData.size() + getHeaderViewCount() + getFooterViewCount();</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨æ•°æ®æºçš„åŸºç¡€ä¸Šè®¡ç®—Headerä»¥åŠFooterçš„æ•°é‡å¹¶è¿”å›ã€‚</p>
<p>æœ€åæˆ‘ä»¬æ¥çœ‹ä¸‹é’ˆå¯¹Headeræ·»åŠ ã€ç§»é™¤ï¼ˆFooteråŒç†ï¼‰ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> View mHeaderView;</span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addHeaderView</span><span class="params">(View header)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (header == <span class="keyword">null</span>) &#123;</span><br><span class="line">        Log.e(TAG, <span class="string">"header is null!!!"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.mHeaderView = header;</span><br><span class="line">    <span class="keyword">this</span>.notifyDataSetChanged();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeHeaderView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mHeaderView != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.mHeaderView = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">this</span>.notifyDataSetChanged();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="4ã€ç‚¹å‡»äº‹ä»¶çš„å¤„ç†"><a href="#4ã€ç‚¹å‡»äº‹ä»¶çš„å¤„ç†" class="headerlink" title="4ã€ç‚¹å‡»äº‹ä»¶çš„å¤„ç†"></a>4ã€ç‚¹å‡»äº‹ä»¶çš„å¤„ç†</h1><p>åœ¨åˆšå¼€å§‹å†™è¿™ä¸ªé¡¹ç›®çš„åˆæœŸï¼Œå…¶å®æˆ‘æœŸæœ›æ˜¯ç”¨ä¸€ç§æ›´ç®€æ´çš„æ›´ä¼˜é›…çš„æ–¹å¼æ¥å¤„ç†itemç‚¹å‡»äº‹ä»¶ï¼ŒæœŸé—´ä¹Ÿå°è¯•ä½¿ç”¨<code>RecyclerView.OnItemTouchListener</code>æ¥å®ç°ç‚¹å‡»äº‹ä»¶ï¼Œè™½ç„¶åŠŸèƒ½ä¸Šå®ç°äº†ç‚¹å‡»äº‹ä»¶ï¼Œä½†å¯¹ç‚¹å‡»æ•ˆæœçš„æ”¯æŒæ²¡èƒ½æœ‰æ•ˆçš„è§£å†³ï¼Œåæ¥ä¸å¾—ä¸æ”¾å¼ƒçš„è¿™ä¸€æ–¹æ¡ˆã€‚æœ€ç»ˆï¼Œè¿™é‡Œè¿˜æ˜¯é€šè¿‡itemViewçš„ç‚¹å‡»äº‹ä»¶æ¥å®ç°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">vh = onCreateDefViewHolder(parent, viewType);</span><br><span class="line">dispatchItemClickListener(vh);</span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dispatchItemClickListener</span><span class="params">(<span class="keyword">final</span> BaseViewHolder vh)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mOnItemClickListeners != <span class="keyword">null</span> &amp;&amp; mOnItemClickListeners.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!(vh.itemView <span class="keyword">instanceof</span> AdapterView)) &#123;</span><br><span class="line">            vh.itemView.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">                <span class="annotation">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mOnItemClickListeners.size(); i++) &#123;</span><br><span class="line">                        <span class="keyword">final</span> OnItemClickListener listener = mOnItemClickListeners.get(i);</span><br><span class="line">                        listener.onItemClick(vh, vh.getLayoutPosition() - getHeaderViewCount());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (mOnItemLongClickListeners != <span class="keyword">null</span> &amp;&amp; mOnItemLongClickListeners.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!(vh.itemView <span class="keyword">instanceof</span> AdapterView)) &#123;</span><br><span class="line">            vh.itemView.setOnLongClickListener(<span class="keyword">new</span> View.OnLongClickListener() &#123;</span><br><span class="line">                <span class="annotation">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onLongClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mOnItemLongClickListeners.size(); i++) &#123;</span><br><span class="line">                        <span class="keyword">final</span> OnItemLongClickListener listener = mOnItemLongClickListeners.get(i);</span><br><span class="line">                        listener.onItemLongClick(vh, vh.getLayoutPosition() - getHeaderViewCount());</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹<code>Adapter</code>æŠ½è±¡å°è£…ä»£ç ä¸Šå¹¶ä¸å¤æ‚ï¼Œåªæ˜¯åŸºäºè¿™äº›æŠ½è±¡åŠå°è£…ï¼Œä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿å¿«æ·ã€‚ä¹Ÿæ¬¢è¿æ”¯æŒä¸€ä¸‹<a href="https://github.com/Solartisan/TurboRecyclerViewHelper" target="_blank" rel="external">è¿™ä¸ªé¡¹ç›®</a>~ æŒç»­ç»´æŠ¤~ğŸ˜Š</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/07/11/learn_plugin/" class="prev">ä¸Šä¸€ç¯‡</a><a href="/2016/06/01/turbo-recyclerview-helper-1/" class="next">ä¸‹ä¸€ç¯‡</a></div><div data-thread-key="2016/06/18/turbo-recyclerview-helper-2/" data-title="TurboRecyclerViewHelperä¹‹å®ç°Adapterçš„ä¼˜åŒ–å°è£…" data-url="http://solart.cc/2016/06/18/turbo-recyclerview-helper-2/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"solart"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>Â© 2015 - 2016 <a href="http://solart.cc">imilk</a>, unless otherwise noted.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-51018462-1",'auto');ga('send','pageview');</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>