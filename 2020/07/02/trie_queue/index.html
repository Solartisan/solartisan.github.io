<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 前缀树 + 队列处理通配符查找 · Solartisan</title><meta name="description" content="前缀树 + 队列处理通配符查找 - Oz"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://solart.cc/atom.xml" title="Solartisan"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/solartisan" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">前缀树 + 队列处理通配符查找</h1><div class="post-info">Jul 2, 2020</div><div class="post-content"><p>作者：<a href="mailto://imilko7@gmail.com" target="_blank" rel="external">Oz</a></p>
<p>v 信号: <code>Mojitok8275</code></p>
<blockquote>
<p>版权声明：本文为博主原创，转载请注明出处。</p>
</blockquote>
<h3 id="题目要求"><a href="#题目要求" class="headerlink" title="题目要求"></a>题目要求</h3><p><a href="https://leetcode-cn.com/problems/add-and-search-word-data-structure-design/" target="_blank" rel="external">211:添加与搜索单词 - 数据结构设计</a></p>
<p>设计一个支持以下两种操作的数据结构：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addWord</span><span class="params">(word)</span></span><br><span class="line">bool <span class="title">search</span><span class="params">(word)</span></span></span><br></pre></td></tr></table></figure>
<p><code>search(word)</code> 可以搜索文字或正则表达式字符串，字符串只包含字母 <code>.</code> 或 <code>a-z</code> 。 <code>.</code> 可以表示任何一个字母。</p>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">addWord(<span class="string">"bad"</span>)</span><br><span class="line">addWord(<span class="string">"dad"</span>)</span><br><span class="line">addWord(<span class="string">"mad"</span>)</span><br><span class="line">search(<span class="string">"pad"</span>) -&gt; <span class="function"><span class="keyword">false</span></span><br><span class="line"><span class="title">search</span><span class="params">(<span class="string">"bad"</span>)</span> -&gt; <span class="keyword">true</span></span><br><span class="line"><span class="title">search</span><span class="params">(<span class="string">".ad"</span>)</span> -&gt; <span class="keyword">true</span></span><br><span class="line"><span class="title">search</span><span class="params">(<span class="string">"b.."</span>)</span> -&gt; <span class="keyword">true</span></span></span><br></pre></td></tr></table></figure>
<p>说明：你可以假设所有单词都是由小写字母 <code>a-z</code> 组成的。</p>
<h3 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h3><p>题解同时发表在 leetcode <a href="https://leetcode-cn.com/problems/add-and-search-word-data-structure-design/solution/qian-zhui-shu-dui-lie-chu-li-tong-pei-fu-cha-zhao-/" target="_blank" rel="external">前缀树 + 队列处理通配符查找</a></p>
<p>如果不考虑通配符，这道题就是一个典型的<code>前缀树（字典树）</code>问题，我们只需要构造一个<code>前缀树</code>，实现对应的<code>插入</code>和<code>搜索</code>功能即可。</p>
<p>由于题目要求匹配了<code>“.”</code>，因此，在前缀树的搜索时，我们就要对 <code>“.”</code> 进行特殊处理，那我们接下来思考，如何处理通配符？</p>
<p>根据题目要求 <code>.</code> 可以表示任何一个字母，如果一个输入的字符串中包含 <code>.</code> 就意味着，这个查找结果可能会有多个。那么我们来思考带有通配符 <code>.</code> 的字符串的查找结果有几种情况：</p>
<ul>
<li><p>没有找到对应的单词  </p>
<p>这种情况代表着虽然包含通配符 <code>.</code> 但由于其他位置的字符与字典中的单词字符不能匹配</p>
</li>
<li><p>找到一个或多个相应的单词</p>
<p>这种情况下代表着字典中有一个或多个单词与之相匹配</p>
</li>
</ul>
<p>根据以上两种情况的分析，综合不含通配符单词的查找，我们需要使用集合来保存查找到的 <code>TrieNode</code> 结果。</p>
<p>我们再分析，如果输入的字符串本身不是一个单词，这时我们就要对我们查找到的节点进行过滤，必须存在一个或多个单词字符位数与输入的字符串相匹配，才能视为查找到对应的结果。</p>
<h3 id="实现前缀树"><a href="#实现前缀树" class="headerlink" title="实现前缀树"></a>实现前缀树</h3><p>通过上面的分析，我们来构建一个合理的<code>前缀树</code>，这其中的关键就在于设计 <code>Trie</code> 节点结构，所以为了解决我们上述分析的问题，我们需要引入一个布尔变量来表示当前字符串是否是单词，另外为了方便与输入字符串比较长度我们这里通过保存单词字符串的形式处理。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span> isWord = <span class="keyword">false</span>;</span><br><span class="line">    String word = <span class="string">""</span>;</span><br><span class="line">    HashMap&lt;Character, TrieNode&gt; children;</span><br><span class="line"></span><br><span class="line">    TrieNode() &#123;</span><br><span class="line">        children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 设计好了节点结构以后，我们就来实现前缀树了：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trie</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> TrieNode root;</span><br><span class="line"></span><br><span class="line">    Trie() &#123;</span><br><span class="line">        root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        TrieNode cur = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = word.charAt(i);</span><br><span class="line">            TrieNode child = cur.children.get(c);</span><br><span class="line">            <span class="keyword">if</span> (child != <span class="keyword">null</span>) &#123;</span><br><span class="line">                cur = child;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                TrieNode next = <span class="keyword">new</span> TrieNode();</span><br><span class="line">                cur.children.put(c, next);</span><br><span class="line">                cur = next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cur.isWord = <span class="keyword">true</span>;</span><br><span class="line">        cur.word = word;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ？？</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="通过队列来处理多节点遍历"><a href="#通过队列来处理多节点遍历" class="headerlink" title="通过队列来处理多节点遍历"></a>通过队列来处理多节点遍历</h4><p>那么接下来如何对搜索进行实现呢？根据我们开头的分析，由于通配符 <code>.</code> 的存在，在遍历节点时可能需要一次遍历多个节点（例如：一个字符<code>.</code> 匹配出 a b c 三个前缀节点），此时我们自然想到用队列的数据结构比较适合处理这个问题。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 引入队列</span></span><br><span class="line">	LinkedList&lt;TrieNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">	queue.add(root);</span><br><span class="line">	<span class="comment">// 遍历字符串的索引；</span></span><br><span class="line">	<span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">	List&lt;TrieNode&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	<span class="keyword">while</span> (!queue.isEmpty() &amp;&amp; index &lt; word.length()) &#123;</span><br><span class="line">		<span class="keyword">int</span> size = queue.size();</span><br><span class="line">		<span class="keyword">char</span> c = word.charAt(index++);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; size; j++) &#123;</span><br><span class="line">		TrieNode cur = queue.poll();</span><br><span class="line">			<span class="keyword">if</span> (c == <span class="string">'.'</span>) &#123; <span class="comment">// 处理通配符 “.”</span></span><br><span class="line">				<span class="keyword">for</span> (Map.Entry&lt;Character, TrieNode&gt; e : cur.children.entrySet()) &#123;</span><br><span class="line">					TrieNode child = e.getValue();</span><br><span class="line">					queue.add(child);</span><br><span class="line">					<span class="keyword">if</span>(index == word.length())&#123;</span><br><span class="line">						res.add(child);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				TrieNode child = cur.children.get(c);</span><br><span class="line">				<span class="keyword">if</span> (child != <span class="keyword">null</span>) &#123;</span><br><span class="line">					queue.add(child);</span><br><span class="line">					<span class="keyword">if</span>(index == word.length())&#123;</span><br><span class="line">						res.add(child);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="comment">// nothing to do</span></span><br><span class="line">					<span class="comment">// 如果节点不匹配，则不需要添加到结果集合</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> checkStatus(res, word.length());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过搜索找到临时的结果，此时我们还需要对结果进行筛选处理，保证我们找到的 <code>TrieNode</code> 节点是满足条件的结果。</p>
<p>### 完整代码</p>
<p><img src="https://pic.leetcode-cn.com/97e9d5f5e4dbcfc8a4d8356a6be5e28a1ed43cccc760d55f6f140cfc1425299c-image.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WordDictionary</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Trie mDict;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordDictionary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mDict = <span class="keyword">new</span> Trie();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addWord</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        mDict.insert(word);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mDict.search(word);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Trie</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> TrieNode root;</span><br><span class="line"></span><br><span class="line">        Trie() &#123;</span><br><span class="line">            root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">            TrieNode cur = root;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); i++) &#123;</span><br><span class="line">                <span class="keyword">char</span> c = word.charAt(i);</span><br><span class="line">                TrieNode child = cur.children.get(c);</span><br><span class="line">                <span class="keyword">if</span> (child != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    cur = child;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    TrieNode next = <span class="keyword">new</span> TrieNode();</span><br><span class="line">                    cur.children.put(c, next);</span><br><span class="line">                    cur = next;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            cur.isWord = <span class="keyword">true</span>;</span><br><span class="line">            cur.word = word;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">            LinkedList&lt;TrieNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">            queue.add(root);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">            List&lt;TrieNode&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            <span class="keyword">while</span> (!queue.isEmpty() &amp;&amp; index &lt; word.length()) &#123;</span><br><span class="line">                <span class="keyword">int</span> size = queue.size();</span><br><span class="line">                <span class="keyword">char</span> c = word.charAt(index++);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; size; j++) &#123;</span><br><span class="line">                    TrieNode cur = queue.poll();</span><br><span class="line">                    <span class="keyword">if</span> (c == <span class="string">'.'</span>) &#123;</span><br><span class="line">                        <span class="keyword">for</span> (Map.Entry&lt;Character, TrieNode&gt; e : cur.children.entrySet()) &#123;</span><br><span class="line">                            TrieNode child = e.getValue();</span><br><span class="line">                            queue.add(child);</span><br><span class="line">                            <span class="keyword">if</span>(index == word.length())&#123;</span><br><span class="line">                                res.add(child);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        TrieNode child = cur.children.get(c);</span><br><span class="line">                        <span class="keyword">if</span> (child != <span class="keyword">null</span>) &#123;</span><br><span class="line">                            queue.add(child);</span><br><span class="line">                            <span class="keyword">if</span>(index == word.length())&#123;</span><br><span class="line">                                res.add(child);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="comment">// nothing to do</span></span><br><span class="line">                            <span class="comment">// 如果节点不匹配，则不需要添加到结果集合</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> checkStatus(res, word.length());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">boolean</span> <span class="title">checkStatus</span><span class="params">(List&lt;TrieNode&gt; res, <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(res.isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> f = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (TrieNode n : res) &#123;</span><br><span class="line">                <span class="keyword">if</span> (n.isWord &amp;&amp; n.word.length() == len)</span><br><span class="line">                    f++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> f != <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> isWord = <span class="keyword">false</span>;</span><br><span class="line">        String word = <span class="string">""</span>;</span><br><span class="line">        HashMap&lt;Character, TrieNode&gt; children;</span><br><span class="line"></span><br><span class="line">        TrieNode() &#123;</span><br><span class="line">            children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></article></div></section><footer><div class="paginator"><a href="/2020/07/17/nested_ceiling_effect/" class="prev">上一篇</a><a href="/2020/06/16/understand_rxjava2/" class="next">下一篇</a></div><div style="padding:0; margin: 30px auto; width: 100%; text-align: center;"><div style="font-size: 1em; margin: 10px auto;color:#f44336;font-weight: bold"> 如果觉得本文对你有帮助，不妨请作者喝瓶养乐多<div style="padding: 0; margin: 10px auto; width: 100%; text-align: center; color:#f44336;"></div></div><button style="cursor: pointer; border: 0; outline: 0; padding: 0; margin: 0; letter-spacing: normal; text-transform: none; text-indent: 0; text-shadow: none; background-color: transparent; text-align: center; cursor: pointer;" id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}"><span style="display: inline-block; width: 70px; height: 70px; color: #fff; font-weight: bold; font-style: normal; font-variant: normal; font-stretch: normal; font-size: 2.5em; text-align: center; line-height: 70px; background: #f44336; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;">赏</span></button><div id="QR" style="display: none;"><div id="wechat" style="width: auto; max-width: 50%; float: left; margin: 20px; display: inline-block;"><img id="wechat_qr" src="/images/wechat.png" alt="WechatPay"></div><div id="alipay" style="width: auto; max-width: 50%; float: right; margin: 20px; display: inline-block;"><img id="alipay_qr" src="/images/alipay.png" alt="Alipay"></div></div></div><div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div><script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script><script>var cloudTieConfig = {
    url: document.location.href,
    sourceId: "",
    productKey: "8b0c22fa1d324f8e9c45b4f8e5d5c325",
    target: "cloud-tie-wrapper"
};
var yunManualLoad = true;
Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);
</script><div class="copyright"><p>© 2015 - 2024 <a href="http://solart.cc">Oz</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-51018462-1",'auto');ga('send','pageview');</script></body></html>